<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
    
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>$keywordcur$ - 百度</title>
    <script type="text/javascript">
        window.StartTime = (new Date()).getTime();
        var image = document.createElement("img");
        image.src = "https://eclick.baidu.com/m.js?" + "et=StartTime&jk=$bdTpclickedJk$&temp=$t$&mscf=$mscf$&start_time="+ window.StartTime +"&is_app="+"$is_app$" + "&lukid=" + "$lukid$";
        console.log("StartTime:"+  window.StartTime)
        
        window.TONGJI_PAGE = 'temp=$t$&mscf=$mscf$';
        var _hmt = _hmt || [];
        _hmt.push(['_setAutoPageview', false]);
        _hmt.push(['_trackPageview', '/cpro/ui/uijs.php/' + window.TONGJI_PAGE]);
        //DEBUG
        $midpage_mob_common.baiduTongJi_feed$    
    </script>
    <!-- DEBUG -->
    <script src="https://cdn.bootcss.com/zepto/1.2.0/zepto.min.js"></script>
    <style type="text/css">
        $TemplateEngine.baseCss$
    </style>
    <script>
        $TemplateEngine.baseJs$
    </script>

    <script type="text/javascript">
    (function(c){var b=typeof module==="undefined"?(c.baidu=c.baidu||{}):module.exports;b.template=function(g,f){var e=(function(){if(!c.document){return a._compile(g)}var i=document.getElementById(g);if(i){if(a.cache[g]){return a.cache[g]}var h=/^(textarea|input)$/i.test(i.nodeName)?i.value:i.innerHTML;return a._compile(h)}else{return a._compile(g)}})();var d=a._isObject(f)?e(f):e;e=null;return d};var a=b.template;a.versions=a.versions||[];a.versions.push("1.0.6");a.cache={};a.LEFT_DELIMITER=a.LEFT_DELIMITER||"<%";a.RIGHT_DELIMITER=a.RIGHT_DELIMITER||"%>";a.ESCAPE=true;a._encodeHTML=function(d){return String(d).replace(/&/g,"&amp;")/*.replace(/</g,"&lt;").replace(/>/g,"&gt;")*/.replace(/\\/g,"&#92;")/*.replace(/"/g,"&quot;")*/.replace(/'/g,"&#39;")};a._encodeReg=function(d){return String(d).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")};a._encodeEventHTML=function(d){return String(d).replace(/&/g,"&amp;")/*.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")*/.replace(/'/g,"&#39;").replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\n/g,"\n").replace(/\\r/g,"\r")};a._compile=function(e){var d="var _template_fun_array=[];\nvar fn=(function(__data__){\nvar _template_varName='';\nfor(name in __data__){\n_template_varName+=('var '+name+'=__data__[\"'+name+'\"];');\n};\neval(_template_varName);\n_template_fun_array.push('"+a._analysisStr(e)+"');\n_template_varName=null;\n})(_template_object);\nfn = null;\nreturn _template_fun_array.join('');\n";return new Function("_template_object",d)};a._isObject=function(d){return"function"===typeof d||!!(d&&"object"===typeof d)};a._analysisStr=function(f){var d=a.LEFT_DELIMITER;var h=a.RIGHT_DELIMITER;var e=a._encodeReg(d);var g=a._encodeReg(h);f=String(f).replace(new RegExp("("+e+"[^"+g+"]*)//.*\n","g"),"$1").replace(new RegExp("<!--.*?-->","g"),"").replace(new RegExp(e+"\\*.*?\\*"+g,"g"),"").replace(new RegExp("[\\r\\t\\n]","g"),"").replace(new RegExp(e+"(?:(?!"+g+")[\\s\\S])*"+g+"|((?:(?!"+e+")[\\s\\S])+)","g"),function(j,i){var k="";if(i){k=i.replace(/\\/g,"&#92;").replace(/'/g,"&#39;");while(/<[^<]*?&#39;[^<]*?>/g.test(k)){k=k.replace(/(<[^<]*?)&#39;([^<]*?>)/g,"$1\r$2")}}else{k=j}return k});f=f.replace(new RegExp("("+e+"[\\s]*?var[\\s]*?.*?[\\s]*?[^;])[\\s]*?"+g,"g"),"$1;"+h).replace(new RegExp("("+e+":?[hvu]?[\\s]*?=[\\s]*?[^;|"+g+"]*?);[\\s]*?"+g,"g"),"$1"+h).split(d).join("\t");if(a.ESCAPE){f=f.replace(new RegExp("\\t=(.*?)"+g,"g"),"',typeof($1) === 'undefined'?'':baidu.template._encodeHTML($1),'")}else{f=f.replace(new RegExp("\\t=(.*?)"+g,"g"),"',typeof($1) === 'undefined'?'':$1,'")}f=f.replace(new RegExp("\\t:h=(.*?)"+g,"g"),"',typeof($1) === 'undefined'?'':baidu.template._encodeHTML($1),'").replace(new RegExp("\\t(?::=|-)(.*?)"+g,"g"),"',typeof($1)==='undefined'?'':$1,'").replace(new RegExp("\\t:u=(.*?)"+g,"g"),"',typeof($1)==='undefined'?'':encodeURIComponent($1),'").replace(new RegExp("\\t:v=(.*?)"+g,"g"),"',typeof($1)==='undefined'?'':baidu.template._encodeEventHTML($1),'").split("\t").join("');").split(h).join("_template_fun_array.push('").split("\r").join("\\'");return f}})(window);
    </script>
    <style>
        body, h1, h2, h3, p, div, ol, ul, input, button {
            margin: 0;
            padding: 0;
        }
        div {
            display: block;
        }
body {
    font-family: Arial, Helvetica, sans-serif;
    text-align: center;
    -webkit-text-size-adjust: none;
    background: #f1f1f1;
    max-width: 100%;
    overflow-x: hidden;
}
a {
    text-decoration: none;
    -webkit-tap-highlight-color: rgba(0,0,0,0);
}
a:-webkit-any-link {
    text-decoration:none;
}
input:focus{outline-offset:-2px;}
:focus{outline:-webkit-focus-ring-color auto 5px;}
.tab-news-content{
    text-align: left;
    }

        .tab-news-content .news-item a, .tab-news-content .news-item a.inner-item {
            margin: 0 11px;
            border-top: 1px solid #f0f0f0;
            padding: 14px 0;
            display: block;
        }
.tab-interest-content {
    margin: 0px 0px 0px;
    -moz-box-shadow: 0px 1px 2px #b5b5b5;
    -webkit-box-shadow: 0px 1px 2px #b5b5b5;
    box-shadow: 0px 1px 2px #b5b5b5;
    background-color: #ffffff;
    display: inline-block;
    border-radius: 4px;
    width: 100%;
}
.tab-interest-content .interest {
    padding: 13px 8px 17px;
    background-color: #fff;
    width: auto;
    color: #333;
    font: 12px Arial,Helvetica,sans-serif;
    word-break: break-word;
    word-wrap: break-word;
    border: 0 none;
    border-radius: 4px;
    position: relative;
}
.tab-interest-content .interest-recommend-tag {
    border: none;
    border-top: 0px solid #f0f0f0;
    margin: 0 0px;
    padding-bottom: 7px;
    padding-left: 3px;
    display: block;
    overflow:hidden;
}
.tab-interest-content .interest-recommend-tag span {
    float: left;
    text-align: left;
    font-size: 13px;
    color: #999;
    display: inline-block;
}
.tab-interest-content .interest .interest-recommend {
    font-size: 13px;
    display: flex;
}
.tab-interest-content .interest .interest-recommend .interest-src-net {
    background: #F8F8F8;
    margin: 6px 3px 0;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    text-align: center;
    flex: 1;
    border-radius: 3px;
}
.tab-interest-content .interest a {
    text-align: center;
    font-weight: normal;
    font-size: 16px;
    line-height: 40px;
    overflow: hidden;
    text-overflow: ellipsis;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    white-space: nowrap;
    display: block;
    color:#333;
}
.tab-interest-content .interest a.red{
    text-align: center;
    font-weight: normal;
    font-size: 16px;
    line-height: 40px;
    overflow: hidden;
    text-overflow: ellipsis;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    white-space: nowrap;
    display: block;
    color:#D00000;
}

/*.interest .interest-recommend:nth-child(2) a{
    color:#D00000;
}*/

#tab-asp-content .news-list-wrapper div:first-child a.inner-item {
    border: none;
}
        .tab-news-content .tpl-2 a.inner-item .inner-item-pic-info {
            position: relative;
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-align: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-align-items: center;
        }
        .tab-news-content .tpl-2 .info-content {
            width: 67.88%;
            -webkit-box-ordinal-group: 2;
            -moz-box-ordinal-group: 2;
            -ms-box-ordinal-group: 2;
            -webkit-order: 2;
            order: 2;
        }
        .tab-news-content .tpl-2 .info-content > div {
            margin-left: 14px;
        }
        .tab-news-content .tpl-2 .pic-content {
            width: 33.65%;
            /*height: 0;
            padding-top: 21.955%;*/
            position: relative;
        }
        
.tab-news-content .tpl-2 .pic-content div {
    padding-top: 66.67%;
    width: 100%;
}
.tab-news-content .tpl-2 .pic-content img {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
}
.tab-news-content .tpl-3 a.inner-item {
    min-height: 118px;
}
.tab-news-content .tpl-3 a.inner-item .text-content h2 {
    -webkit-line-clamp: 2;
}
.tab-news-content .news-item .img-wrap img {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
}
.tab-news-content .news-item .img-wrap {
    display: inline-block;
    width: 31.9%;
    margin-right: 1px;
    height: 0;
    padding-top: 21.99%;
    position: relative;
    vertical-align: top;
}
.tab-news-content .news-item .text-content {
    margin-bottom: 3px;
}

.clr:after {
    content: '\20';
    display: block;
    height: 0;
    clear: both;
}
.tab-news-content .news-item h2 {
    font-weight: normal;
    color: #000;
    font-size: 18px;
    line-height: 26px;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}
.tab-news-content .tpl-1 .news-from {
    margin-top: 12px !important;
}
.tab-news-content .tpl-2 .news-from {
    margin-top: 12px !important;
}
.tab-news-content .news-item .news-from {
    margin-top: 8px;
    line-height: 12px;
    display: -webkit-box;
    display: -moz-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    -webkit-box-align: center;
    -moz-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-align-items: center;
}

.tab-news-content .news-item .news-from span {
    margin-right: 8px;
    font-size: 13px;
    color: #999;
    display: inline-block;
}

.ads_loading{
    display: none;
    background-color:#eeeeee;
    font-size: 18px;
    color: #7d7d7d;
    text-align: center;
    height: 34px;
}
.ads_loading .loadingsign{
    width: 25px;
    position: relative;
    top: 5px;
}
.ads_loading span{
    margin-left:10px;
    position: relative;
    top: -3px;
}

.tab-head-logo{
    width:76px;height:25px;line-height: 25px;position:absolute;top:9px; right:16px;
    background:url(https://t11.baidu.com/it/u=2419648699,3393322585&fm=76)  no-repeat; 
    background-size:  100% 100%;
}
.tab-news-content .news-item a:visited h2 {
    color: #aaa;
}
.tab-news-content .news-item a:active {
    background-color:rgba(0,0,0,0.05);
}
.tab-news-content .iconplay{
    width:20px;
    height: 20px;;
    z-index: 1111;
    background: black;
    position: absolute;
    opacity: 0.5;
    left:0;
    top:0;
    right: 0;
    bottom: 0;
    margin: auto;
    border-radius: 10px;
}
.tab-news-content .iconplay:before{content:'';
    height:0; width:0; display:block; border:10px transparent solid; border-right-width:0; border-left-color:#fff; position:absolute; left: 7px;
}
.tab-news-content .src-net{
    max-width: 150px;
    overflow: hidden;
    line-height: 16px;
    white-space: nowrap;
    text-overflow: ellipsis;
}
.tab-news-content .news-item .news-from .src-sign {
    color:#999;
}
.top_ads_singn_desc{
        display: none;
    padding-top: 6px;
    padding-right: 6px;
    font-size: 11px;
    color: #999;
    text-align: center;
}
        .big_pic_box{
            display: inline-block;
            margin-right: 1px;
            position: relative;
            vertical-align: top;
            width: 100%;
            max-width: 100%;
            min-width: 100%;
        }
        .big_pic_box img{
            width: 100%;
            max-width: 100%;
            min-width: 100%;
            max-height: 160px;
        }
        .slow_aa_iphone{
            width: 13px  !important;
            height: 13px !important;
            margin-right: 5px;
        }
        .aa-link-slow{
            display: inline-block;
            position: absolute;
            right: 10px;
            bottom:14px;
            font-size:13px;
        }
    </style>
    <script type="text/template" id="interest-list_template">
        <div class="interest">
            <div class="interest-recommend-tag">
                <span>相关推荐</span>
            </div>
            <%for(var i in ads){%>
            <div class="interest-recommend">
                <div class="interest-src-net" data-num = <%=ads[i].num1%> data-word = <%=ads[i].key1%>>
                    <a href=<%=ads[i].curl1%> data-num = <%=ads[i].num1%> data-word = <%=ads[i].key1%> target="_blank"> <%=ads[i].key1%> </a>
                </div>
                <div class="interest-src-net" data-num = <%=ads[i].num2%> data-word = <%=ads[i].key2%>>
                    <a href=<%=ads[i].curl2%> data-num = <%=ads[i].num2%> data-word = <%=ads[i].key2%> target="_blank"> <%=ads[i].key2%> </a>
                </div>
            </div>
            <%}%>
        </div>
    </script>
    <script type="text/template" id="news-list_template">
        <%for(var i in ads){%>
        <%if (ads[i].type == 2){%>
        <div id="<%=ads[i].id%>" onclick="ThisPage.clickLog(this,<%=ads[i].stype%>)" style="position: relative;" class="news-item tpl-2" <%if(ads[i].extra_param){%>extra_param="<%=ads[i].extra_param%>"<%}%>>
        <a href="<%=ads[i].curl%>" class="inner-item clr" target="_blank"
           onclick="<%=ads[i].onclick%>">
            <div class="inner-item-pic-info">
                <div class="info-content">
                    <div class="text-content">
                        <h2><%=ads[i].tit%><span class="hotRec hotRec0"></span></h2>
                    </div>
                    <%if (style.conf.version != "4.0"){%>
                    <div class="news-from">
                        <%if (ads[i].uicon){%>
                        <img src="<%=ads[i].uicon%>" style="width:12px;height:12px;margin-right:5px;padding-bottom:2px;">
                        <%}%>
                        <span class="src-net"><%=ads[i].surl%></span>
                        <span class="src-time"><%=ads[i].time%></span><span class="src-icon-hot"></span>
                        <%if (ads[i].sign){%><span class="src-sign" style="">广告</span><%}%>
                    </div>
                    <%}%>
                </div>
                <div class="pic-content">
                    <div class="news-img-padding"></div>
                    <img src="<%=ads[i].image_url%>">
                </div>
            </div>
            <%if (style.conf.version == "4.0"){%>
            <div class="news-from">
                <%if (ads[i].uicon){%>
                <img src="<%=ads[i].uicon%>" style="width:12px;height:12px;margin-right:5px;padding-bottom:2px;">
                <%}%>
                <span class="src-net"><%=ads[i].surl%></span>
                <span class="src-time"><%=ads[i].time%></span><span class="src-icon-hot"></span>
                <%if (ads[i].sign){%><span class="src-sign" style="">广告</span><%}%>
            </div>
            <%}%>
        </a>
        <!--aa-->
        <%if (ads[i].aashow == true) {%>
        <%if (ads[i].tag_list || ads[i].phone_link || ads[i].aa_link){%>
        <%if (ads[i].phone_link) {%>
        <span class="aa-link-slow">
                <a href="javascript:;" style="padding:0px;margin:0px;" class="aa-item" data-cal="tel:<%=ads[i].phone_num%>" data-rcv="<%=ads[i].phone_link%>" onclick="<%=ads[i].onclick%>">
                    <img class="slow_aa_iphone" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPASURBVGhD7ZlXiFRJFIbHsEZWMWJasygm0BdFDIv6IoLgIuKbIIqIiuCDIiK+6YugKJhF0TUgrOlhXTHgqogPigETRswR45p11+9rpqCZvd3Ts9vdUwPzw4feuqfvPTVVdc6puiXVquKqUfpvlZTOT4Kr8DechT5QpfQj7IR/ynAfmkCVUCvwr6/jL2Ac1IOjpW0bIXp1gdugw5egMwR57y/w3mgbYlU7uAU6egySptB08P4DiHKKNYILoJOHoT4kyQAQ9RRbAzpnZxrbkEXpU2yUDTHpIxhicw2vs8CO3AUjXDT6BjpmdMpFNeE4+JvVNsSisMi7pa5yU3f4AI7kcBti0G6wIxNSV7lrDvi7A6mrCBTCakUj0WDwd+dTVxGoE7hO3kJFFu9ysCNrU1eRyOmhU9NSV+WrK3yCr9DLhlj0C9iRG/CDDeVoF2gfVdRShtRzoHMzbMiiYaDda2hpQ2wyU+vgY8i0VuzwadBurg2x6gjo5MrU1b/VBswf2oy1IVb1gPdgohthQ4Jmgh15Dj/ZEKtmg47egaQpZhW8D7Q5BQ0gStWCUEtttSFBVsmh9N8L/iZKmSdegY46QknqAE9Bmw0Q7WmLW1ozvklvpA0J6g+hwysg2s4sAJ18Bul7+HQNgneg3RIbYpR/4d9AJ10TzSFJjpgli3ZLIcqRMXKFhW2UypQsTaiGbu0sXaLsTAu4DjrpAUWm3eTP8Aa02wJ1IJusvIdCw9RVkWTyuwc6acitDUkaAB7uaXcIkg40BsKfoI1o7xFt0UbRLW4IueaYTPnDgwwTqnZXoDeo9rANrBy8Z5C4WPp/+QO0KYr6QQi5OyDT9PH41TUVHN4EYQ25iZsPoSrwaPYJeM+qegoUZXScGmH6/A6ZyhTX0irQTsxLJs/WUFZGxO0QbA9CRyi4nD6PwJd6zJrtcM9KeQ84muVJW7cSPtfA4a614KNjKRMOvs9AvjZaTeFXCKPj9sIIV1B5AH4ZfOFN6Av50hh4CD7bIFPwzji/T4IvdCGPh3zJk//94LMX2VBo1YV14AsNr77UrXE+NA98ruVP0eTi/Ay+2Mhjuf9/5PY6BJWifwEYAuHl5oXJ8F8ijznqBPgcw3ylqBmk5wWzdk/IVXY8RC4jo5GsUuXhX8jaX2A9tIVsshPhSNbEG82ncaPaMgh7Fj8uWXM5BctOOU86N4N2ljYWodHJPOB0CcFAXEuW/AthKoT67CVY4kctI5FF4zUIHUrHyjmfibUosjCcCIvBD7PmjIp83qhWtfKrkpLvQWkC5sBXTF0AAAAASUVORK5CYII=">
                    <span style="color: #999;font-size: 13px;">电话咨询</span>
                </a>
            </div>
            <%}%>
            <%if (ads[i].aa_link) {%>
            <div class="aa-link-slow">
                <a href="<%=ads[i].aa_link%>" target="_blank" class="aa-item" style="padding:0px;margin:0px;  display:flex;display: -webkit-flex;align-items:center;" onclick="<%=ads[i].onclick%>">
                    <img class="slow_aa_iphone"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIvSURBVGhD7ZlNaxNhFIUjrvxAUVQQFPEDRPwJQkEQ1I0rsykRTGaSSQJBgop7QdwqSlEQV4oguHFTF+JOUfQfuBCEgiDW2lr8QKvPjWeYpE1BpeIt3AcOmffeOzPnTDIMZEpBEPwZ9Xp9FD1HXxuNxg9neo9uJUmyR3aHg/mr+U5sf0eTjjSTe0PTWZYdkO1BGBxVgBlUa7fba9VyQ5qmO/F4R2EmKpXKGrUKMP/UBkiaqOSScrm8Eq/PFKaqcgHNzzTmOp3OOpXcgtfTCnJJpQI1prR0DUHy22BMpYII8h+IIN6IIN6IIN6IIN6IIN6IIN6IIN6IIN6IIN6IIN74nSAftXQNAU4sGoTipDVrtdoOldyC1wsKclGlAhp31bypkkvwtxW9ldeDKhekabqfxqwNoAesT7I+NF/VanWzdllAkiT7hu2zRDqKr3PojUKM67QLwfxhhuwdhIVZTC80PkCz2dxL78u82X8iQjziom3UqYfD4CYGz6DbbNvPrV92kFmNDkDvivpP+uaXVBz7OjrG6Vb8OutfYiE4oF2V1Sr1aLVau+jZv/nv0HqV/ZIHwfgGlfL3FQ8V8KzKfuH+2WZmMf1BpR6sLyvEYwulsl8wfEpB7tu62+2uYvuGaq/5lrb3Bj1jb1Exaw/MOXQEVdBLhXiFdmvUL5gdQRNmGn1CU9q2EPf67xfXYHg6Ny59I8A4nyMaWR5gOsP0NT7PZ1l2nAffFrWCIFg2lEo/AZiqIAQZKaOlAAAAAElFTkSuQmCC">
                    <span style="color: #999;font-size: 13px;">在线咨询</span>

                </a>
        </span>
        <%}%>
        <%}%>
        <%}%>
        <!--aa-->
        </div>
        <%}else if(ads[i].type == 1) {%>
        <div id="<%=ads[i].id%>" class="news-item tpl-1" style="position: relative;" onclick="ThisPage.clickLog(this,<%=ads[i].stype%>)" <%if(ads[i].extra_param){%>extra_param="<%=ads[i].extra_param%>"<%}%>>
        <a href="<%=ads[i].curl%>" class="inner-item" target="_blank"  onclick="<%=ads[i].onclick%>">
            <div class="text-content"><h2><%=ads[i].tit%><span class="hotRec hotRec0"></span></h2></div>
            <div class="text-content-desc"><h2><%=ads[i].desc%><span class="hotRec hotRec0"></span></h2></div>
            <div class="news-from">
                <span class="src-net"><%=ads[i].surl%></span>
                <span class="src-time"></span><span class="src-icon-hot"><%=ads[i].time%></span>
                <%if (ads[i].sign){%><span class="src-sign" style="">广告</span><%}%>
            </div>
        </a>
        <!--aa-->
        <%if (ads[i].aashow == true) {%>
        <%if (ads[i].tag_list || ads[i].phone_link || ads[i].aa_link){%>
        <%if (ads[i].phone_link) {%>
        <span class="aa-link-slow">
                <a href="javascript:;" style="padding:0px;margin:0px;" class="aa-item" data-cal="tel:<%=ads[i].phone_num%>" data-rcv="<%=ads[i].phone_link%>" onclick="<%=ads[i].onclick%>">
                    <img class="slow_aa_iphone" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPASURBVGhD7ZlXiFRJFIbHsEZWMWJasygm0BdFDIv6IoLgIuKbIIqIiuCDIiK+6YugKJhF0TUgrOlhXTHgqogPigETRswR45p11+9rpqCZvd3Ts9vdUwPzw4feuqfvPTVVdc6puiXVquKqUfpvlZTOT4Kr8DechT5QpfQj7IR/ynAfmkCVUCvwr6/jL2Ac1IOjpW0bIXp1gdugw5egMwR57y/w3mgbYlU7uAU6egySptB08P4DiHKKNYILoJOHoT4kyQAQ9RRbAzpnZxrbkEXpU2yUDTHpIxhicw2vs8CO3AUjXDT6BjpmdMpFNeE4+JvVNsSisMi7pa5yU3f4AI7kcBti0G6wIxNSV7lrDvi7A6mrCBTCakUj0WDwd+dTVxGoE7hO3kJFFu9ysCNrU1eRyOmhU9NSV+WrK3yCr9DLhlj0C9iRG/CDDeVoF2gfVdRShtRzoHMzbMiiYaDda2hpQ2wyU+vgY8i0VuzwadBurg2x6gjo5MrU1b/VBswf2oy1IVb1gPdgohthQ4Jmgh15Dj/ZEKtmg47egaQpZhW8D7Q5BQ0gStWCUEtttSFBVsmh9N8L/iZKmSdegY46QknqAE9Bmw0Q7WmLW1ozvklvpA0J6g+hwysg2s4sAJ18Bul7+HQNgneg3RIbYpR/4d9AJ10TzSFJjpgli3ZLIcqRMXKFhW2UypQsTaiGbu0sXaLsTAu4DjrpAUWm3eTP8Aa02wJ1IJusvIdCw9RVkWTyuwc6acitDUkaAB7uaXcIkg40BsKfoI1o7xFt0UbRLW4IueaYTPnDgwwTqnZXoDeo9rANrBy8Z5C4WPp/+QO0KYr6QQi5OyDT9PH41TUVHN4EYQ25iZsPoSrwaPYJeM+qegoUZXScGmH6/A6ZyhTX0irQTsxLJs/WUFZGxO0QbA9CRyi4nD6PwJd6zJrtcM9KeQ84muVJW7cSPtfA4a614KNjKRMOvs9AvjZaTeFXCKPj9sIIV1B5AH4ZfOFN6Av50hh4CD7bIFPwzji/T4IvdCGPh3zJk//94LMX2VBo1YV14AsNr77UrXE+NA98ruVP0eTi/Ay+2Mhjuf9/5PY6BJWifwEYAuHl5oXJ8F8ijznqBPgcw3ylqBmk5wWzdk/IVXY8RC4jo5GsUuXhX8jaX2A9tIVsshPhSNbEG82ncaPaMgh7Fj8uWXM5BctOOU86N4N2ljYWodHJPOB0CcFAXEuW/AthKoT67CVY4kctI5FF4zUIHUrHyjmfibUosjCcCIvBD7PmjIp83qhWtfKrkpLvQWkC5sBXTF0AAAAASUVORK5CYII=">
                    <span style="color: #999;font-size: 13px;">电话咨询</span>
                </a>
            </div>
            <%}%>
            <%if (ads[i].aa_link) {%>
            <div class="aa-link-slow">
                <a href="<%=ads[i].aa_link%>" target="_blank" class="aa-item" style="padding:0px;margin:0px;  display:flex;display: -webkit-flex;align-items:center;" onclick="<%=ads[i].onclick%>">
                    <img class="slow_aa_iphone"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIvSURBVGhD7ZlNaxNhFIUjrvxAUVQQFPEDRPwJQkEQ1I0rsykRTGaSSQJBgop7QdwqSlEQV4oguHFTF+JOUfQfuBCEgiDW2lr8QKvPjWeYpE1BpeIt3AcOmffeOzPnTDIMZEpBEPwZ9Xp9FD1HXxuNxg9neo9uJUmyR3aHg/mr+U5sf0eTjjSTe0PTWZYdkO1BGBxVgBlUa7fba9VyQ5qmO/F4R2EmKpXKGrUKMP/UBkiaqOSScrm8Eq/PFKaqcgHNzzTmOp3OOpXcgtfTCnJJpQI1prR0DUHy22BMpYII8h+IIN6IIN6IIN6IIN6IIN6IIN6IIN6IIN6IIN6IIN74nSAftXQNAU4sGoTipDVrtdoOldyC1wsKclGlAhp31bypkkvwtxW9ldeDKhekabqfxqwNoAesT7I+NF/VanWzdllAkiT7hu2zRDqKr3PojUKM67QLwfxhhuwdhIVZTC80PkCz2dxL78u82X8iQjziom3UqYfD4CYGz6DbbNvPrV92kFmNDkDvivpP+uaXVBz7OjrG6Vb8OutfYiE4oF2V1Sr1aLVau+jZv/nv0HqV/ZIHwfgGlfL3FQ8V8KzKfuH+2WZmMf1BpR6sLyvEYwulsl8wfEpB7tu62+2uYvuGaq/5lrb3Bj1jb1Exaw/MOXQEVdBLhXiFdmvUL5gdQRNmGn1CU9q2EPf67xfXYHg6Ny59I8A4nyMaWR5gOsP0NT7PZ1l2nAffFrWCIFg2lEo/AZiqIAQZKaOlAAAAAElFTkSuQmCC">
                    <span style="color: #999;font-size: 13px;">在线咨询</span>

                </a>
        </span>
        <%}%>
        <%}%>
        <%}%>
        <!--aa-->
        </div>
        <%}else if(ads[i].type == 4) {%>
        <div id="<%=ads[i].id%>" class="news-item tpl-2" onclick="ThisPage.clickLog(this,<%=ads[i].stype%>)" <%if(ads[i].extra_param){%>extra_param="<%=ads[i].extra_param%>"<%}%>>
        <a href="<%=ads[i].curl%>" class="inner-item clr" target="_blank"
           onclick="<%=ads[i].onclick%>">
            <div class="inner-item-pic-info" >
                <div class="info-content">
                    <div class="text-content">
                        <h2><%=ads[i].tit%><span class="hotRec hotRec0"></span></h2>
                    </div>
                    <%if (style.conf.version != "4.0"){%>
                    <div class="news-from">
                        <%if (ads[i].uicon){%>
                        <img src="<%=ads[i].uicon%>" style="width:12px;height:12px;margin-right:5px;padding-bottom:2px;">
                        <%}%>
                        <span class="src-net"><%=ads[i].surl%></span>
                        <span class="src-time"><%=ads[i].time%></span><span class="src-icon-hot"></span>
                        <%if (ads[i].sign){%><span class="src-sign" style="">广告</span><%}%>
                    </div>
                    <%}%>
                </div>
                <div class="pic-content">
                    <div class="news-img-padding"></div>
                    <i class="iconplay" ></i>
                    <img src="<%=ads[i].image_url%>">
                </div>
            </div>
            <%if (style.conf.version == "4.0"){%>
            <div class="news-from">
                <%if (ads[i].uicon){%>
                <img src="<%=ads[i].uicon%>" style="width:12px;height:12px;margin-right:5px;padding-bottom:2px;">
                <%}%>
                <span class="src-net"><%=ads[i].surl%></span>
                <span class="src-time"><%=ads[i].time%></span><span class="src-icon-hot"></span>
                <%if (ads[i].sign){%><span class="src-sign" style="">广告</span><%}%>
            </div>
            <%}%>
        </a>
        </div>
        <%}else if(ads[i].type == 3) {%>
        <!--三图-->
        <div id="<%=ads[i].id%>" class="rec-item news-item tpl-3" style="position: relative;"  onclick="ThisPage.clickLog(this,<%=ads[i].stype%>)" <%if(ads[i].extra_param){%>extra_param="<%=ads[i].extra_param%>"<%}%>>
        <a href="<%=ads[i].curl%>" class="inner-item" target="_blank"  onclick ="<%=ads[i].onclick%>">
            <div class="text-content">
                <h2><%=ads[i].tit%><span class="hotRec hotRec-1"></span></h2>
            </div>
            <div class="pic-content">
                <div class="img-wrap"><img src="<%=ads[i].image_url_list[0]%>"></div>
                <div class="img-wrap"><img src="<%=ads[i].image_url_list[1]%>"></div>
                <div class="img-wrap"><img src="<%=ads[i].image_url_list[2]%>"></div>
            </div>
            <div class="news-from">
                <%if (ads[i].uicon && ads[i].uicon.length > 0){%>
                <img src="<%=ads[i].uicon%>" style="width:12px;height:12px;margin-right:5px;padding-bottom:2px;">
                <%}%>
                <span class="src-net"><%=ads[i].surl%></span>
                <span class="src-time"><%=ads[i].time%></span>
                <%if (ads[i].sign){%><span class="src-sign" style="">广告</span><%}%>
            </div>
        </a>
        <!--aa-->
        <%if (ads[i].aashow == true) {%>
        <%if (ads[i].tag_list || ads[i].phone_link || ads[i].aa_link){%>
        <%if (ads[i].phone_link) {%>
        <span class="aa-link-slow">
                <a href="tel:<%=ads[i].phone_num%>" style="padding:0px;margin:0px;" class="aa-item" data-cal="tel:<%=ads[i].phone_num%>" data-rcv="<%=ads[i].phone_link%>" onclick="<%=ads[i].onclick%>">
                    <img class="slow_aa_iphone" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPASURBVGhD7ZlXiFRJFIbHsEZWMWJasygm0BdFDIv6IoLgIuKbIIqIiuCDIiK+6YugKJhF0TUgrOlhXTHgqogPigETRswR45p11+9rpqCZvd3Ts9vdUwPzw4feuqfvPTVVdc6puiXVquKqUfpvlZTOT4Kr8DechT5QpfQj7IR/ynAfmkCVUCvwr6/jL2Ac1IOjpW0bIXp1gdugw5egMwR57y/w3mgbYlU7uAU6egySptB08P4DiHKKNYILoJOHoT4kyQAQ9RRbAzpnZxrbkEXpU2yUDTHpIxhicw2vs8CO3AUjXDT6BjpmdMpFNeE4+JvVNsSisMi7pa5yU3f4AI7kcBti0G6wIxNSV7lrDvi7A6mrCBTCakUj0WDwd+dTVxGoE7hO3kJFFu9ysCNrU1eRyOmhU9NSV+WrK3yCr9DLhlj0C9iRG/CDDeVoF2gfVdRShtRzoHMzbMiiYaDda2hpQ2wyU+vgY8i0VuzwadBurg2x6gjo5MrU1b/VBswf2oy1IVb1gPdgohthQ4Jmgh15Dj/ZEKtmg47egaQpZhW8D7Q5BQ0gStWCUEtttSFBVsmh9N8L/iZKmSdegY46QknqAE9Bmw0Q7WmLW1ozvklvpA0J6g+hwysg2s4sAJ18Bul7+HQNgneg3RIbYpR/4d9AJ10TzSFJjpgli3ZLIcqRMXKFhW2UypQsTaiGbu0sXaLsTAu4DjrpAUWm3eTP8Aa02wJ1IJusvIdCw9RVkWTyuwc6acitDUkaAB7uaXcIkg40BsKfoI1o7xFt0UbRLW4IueaYTPnDgwwTqnZXoDeo9rANrBy8Z5C4WPp/+QO0KYr6QQi5OyDT9PH41TUVHN4EYQ25iZsPoSrwaPYJeM+qegoUZXScGmH6/A6ZyhTX0irQTsxLJs/WUFZGxO0QbA9CRyi4nD6PwJd6zJrtcM9KeQ84muVJW7cSPtfA4a614KNjKRMOvs9AvjZaTeFXCKPj9sIIV1B5AH4ZfOFN6Av50hh4CD7bIFPwzji/T4IvdCGPh3zJk//94LMX2VBo1YV14AsNr77UrXE+NA98ruVP0eTi/Ay+2Mhjuf9/5PY6BJWifwEYAuHl5oXJ8F8ijznqBPgcw3ylqBmk5wWzdk/IVXY8RC4jo5GsUuXhX8jaX2A9tIVsshPhSNbEG82ncaPaMgh7Fj8uWXM5BctOOU86N4N2ljYWodHJPOB0CcFAXEuW/AthKoT67CVY4kctI5FF4zUIHUrHyjmfibUosjCcCIvBD7PmjIp83qhWtfKrkpLvQWkC5sBXTF0AAAAASUVORK5CYII=">
                    <span style="color: #999;font-size: 13px;">电话咨询</span>
                </a>
            </div>
            <%}%>
            <%if (ads[i].aa_link) {%>
            <div class="aa-link-slow">
                <a href="<%=ads[i].aa_link%>" target="_blank" class="aa-item" style="padding:0px;margin:0px;  display:flex;display: -webkit-flex;align-items:center;" onclick="<%=ads[i].onclick%>">
                    <img class="slow_aa_iphone"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIvSURBVGhD7ZlNaxNhFIUjrvxAUVQQFPEDRPwJQkEQ1I0rsykRTGaSSQJBgop7QdwqSlEQV4oguHFTF+JOUfQfuBCEgiDW2lr8QKvPjWeYpE1BpeIt3AcOmffeOzPnTDIMZEpBEPwZ9Xp9FD1HXxuNxg9neo9uJUmyR3aHg/mr+U5sf0eTjjSTe0PTWZYdkO1BGBxVgBlUa7fba9VyQ5qmO/F4R2EmKpXKGrUKMP/UBkiaqOSScrm8Eq/PFKaqcgHNzzTmOp3OOpXcgtfTCnJJpQI1prR0DUHy22BMpYII8h+IIN6IIN6IIN6IIN6IIN6IIN6IIN6IIN6IIN6IIN74nSAftXQNAU4sGoTipDVrtdoOldyC1wsKclGlAhp31bypkkvwtxW9ldeDKhekabqfxqwNoAesT7I+NF/VanWzdllAkiT7hu2zRDqKr3PojUKM67QLwfxhhuwdhIVZTC80PkCz2dxL78u82X8iQjziom3UqYfD4CYGz6DbbNvPrV92kFmNDkDvivpP+uaXVBz7OjrG6Vb8OutfYiE4oF2V1Sr1aLVau+jZv/nv0HqV/ZIHwfgGlfL3FQ8V8KzKfuH+2WZmMf1BpR6sLyvEYwulsl8wfEpB7tu62+2uYvuGaq/5lrb3Bj1jb1Exaw/MOXQEVdBLhXiFdmvUL5gdQRNmGn1CU9q2EPf67xfXYHg6Ny59I8A4nyMaWR5gOsP0NT7PZ1l2nAffFrWCIFg2lEo/AZiqIAQZKaOlAAAAAElFTkSuQmCC">
                    <span style="color: #999;font-size: 13px;">在线咨询</span>

                </a>
        </span>
        <%}%>
        <%}%>
        <%}%>
        <!--aa-->
        </div>
        <%}else if(ads[i].type == 6) {%>
        <!--大图-->
        <div id="<%=ads[i].id%>" class="rec-item news-item tpl-3"  onclick="ThisPage.clickLog(this,<%=ads[i].stype%>)" <%if(ads[i].extra_param){%>extra_param="<%=ads[i].extra_param%>"<%}%>>
        <a href="<%=ads[i].curl%>" class="inner-item" target="_blank"  onclick ="<%=ads[i].onclick%>">
            <div class="text-content">
                <h2><%=ads[i].tit%><span class="hotRec hotRec-1"></span></h2>
            </div>
            <div class="pic-content ">
                <div class="big_pic_box"><img src="<%=ads[i].image_url_list[0]%>"></div>
            </div>
            <div class="news-from">
                <%if (ads[i].uicon && ads[i].uicon.length > 0){%>
                <img src="<%=ads[i].uicon%>" style="width:12px;height:12px;margin-right:5px;padding-bottom:2px;">
                <%}%>
                <span class="src-net"><%=ads[i].surl%></span>
                <span class="src-time"><%=ads[i].time%></span>
                <%if (ads[i].sign){%><span class="src-sign" style="">广告</span><%}%>
            </div>
        </a>
        </div>
        <%}%>
        <%}%>
        <script type="text/template" id="css_template">
            .tab-news-content .news-item .text-content-desc {
            display:none;
            }

            .tab-head{
            height:44px;background:#3388ff;text-align: left;
            moz-box-shadow: 0px 0px 10px #3388ff;
            -webkit-box-shadow: 0px 0px 10px #3388ff;
            box-shadow: 0px 0px 10px #3388ff;
            }

            <%if (style.conf.version == "4.0"){%>
            .tab-news-content .news-list-wrapper .news-item{
            margin: 7px 0px 7px;
            <%if (window["mid_page_param"].is_app != "1" ) {%>  /*app adk forbid shadow */
            moz-box-shadow: 0px 1px 2px #b5b5b5;
            -webkit-box-shadow: 0px 1px 2px #b5b5b5;
            box-shadow: 0px 1px 2px #b5b5b5;
            <%}%>
            border-radius: 4px;
            background-color: #ffffff;
            }
            .tab-news-content .news-item a, .tab-news-content .news-item a.inner-item {
            border-top: 0px solid #f0f0f0;
            }

            <%}else{%>
            .tab-news-content{
            background: #fff;
            margin: 7px 5px 7px;
            moz-box-shadow: 0px 5px 10px #b5b5b5;
            -webkit-box-shadow: 0px 5px 10px #b5b5b5;
            box-shadow: 0px 5px 10px #b5b5b5;
            border-radius: 4px;
            }

            .tab-news-content .news-item .news-from .src-sign{
            position:absolute;right:16px;
            }
            .tab-news-content  .tpl-2 .news-from .src-sign{
            right:0px;
            }
            <%}%>

            <%if (style.conf.version == "4.0"){%>
            .tab-asp-content{
            margin: 7px 5px 0px;
            moz-box-shadow: 0px 0px 0px #b5b5b5;
            -webkit-box-shadow: 0px 0px 0px #b5b5b5;
            box-shadow: 0px 0px 0px #b5b5b5;
            border-bottom-right-radius:0em;
            border-bottom-left-radius:0em;
            }
            .tab-feed-content{
            margin: 0px 5px 7px;
            moz-box-shadow: 0px 0px 0px #b5b5b5;
            -webkit-box-shadow: 0px 0px 0px #b5b5b5;
            box-shadow: 0px 0px 0px #b5b5b5;
            border-top-right-radius:0em;
            border-top-left-radius:0em;
            }
            .tab-feed-content .feed_title{
            display: none;
            }
            <%}%>

            <%if (style.conf.show_top_ads_sign_desc){%>
            .tab-news-content .news-item .news-from .src-sign {
            display: none;
            }
            .top_ads_singn_desc{
            display: block;
            }
            .aa-link-slow{
            display: flex;
            position: absolute;
            right: 10px;
            bottom:14px;
            font-size:13px;
            }
            .aa-link-slow a{
            display:flex !important;/*Flex布局*/
            display: -webkit-flex !important; /* Safari */
            align-items:center !important;/*指定垂直居中*/
            }
            .aa-link-slow img{
            width: 13px  !important;
            height: 13px !important;
            margin-right: 5px;
            }
            <%}%>
    </script>
<script type="text/template" id="css_template">
    .tab-news-content .news-item .text-content-desc {
        display:none;
    }
  
.tab-head{
    height:44px;background:#3388ff;text-align: left;
    moz-box-shadow: 0px 0px 10px #3388ff;
    -webkit-box-shadow: 0px 0px 10px #3388ff;
    box-shadow: 0px 0px 10px #3388ff;
}
    <%if (style.expList.tips_gexing_ads == 1){%>
    .gexing_tips{
        display:block !important;
    }
    <%}%>

<%if (style.conf.version == "4.0"){%>
.tab-news-content .news-list-wrapper .news-item{
    margin: 7px 0px 7px;
    <%if (window["mid_page_param"].is_app != "1" ) {%>  /*app adk forbid shadow */
    moz-box-shadow: 0px 1px 2px #b5b5b5;
    -webkit-box-shadow: 0px 1px 2px #b5b5b5;
    box-shadow: 0px 1px 2px #b5b5b5;
    <%}%>
    border-radius: 4px;
    background-color: #ffffff;
}
.tab-news-content .news-item a, .tab-news-content .news-item a.inner-item {
        border-top: 0px solid #f0f0f0;
}

<%}else{%>
.tab-news-content{
    background: #fff;
    margin: 7px 5px 7px;
    moz-box-shadow: 0px 5px 10px #b5b5b5;
    -webkit-box-shadow: 0px 5px 10px #b5b5b5;
    box-shadow: 0px 5px 10px #b5b5b5;
    border-radius: 4px;
}

.tab-news-content .news-item .news-from .src-sign{
    position:absolute;right:16px;
}
.tab-news-content  .tpl-2 .news-from .src-sign{
    right:0px;
}
<%}%>

    <%if (style.conf.version == "4.0"){%>
.tab-asp-content{
    margin: 7px 5px 0px;
    moz-box-shadow: 0px 0px 0px #b5b5b5;
    -webkit-box-shadow: 0px 0px 0px #b5b5b5;
    box-shadow: 0px 0px 0px #b5b5b5;
    border-bottom-right-radius:0em;
    border-bottom-left-radius:0em;
}
.tab-feed-content{
    margin: 0px 5px 7px;
    moz-box-shadow: 0px 0px 0px #b5b5b5;
    -webkit-box-shadow: 0px 0px 0px #b5b5b5;
    box-shadow: 0px 0px 0px #b5b5b5;
    border-top-right-radius:0em;
    border-top-left-radius:0em;
}
.tab-feed-content .feed_title{
    display: none;
}
    <%}%>

<%if (style.conf.show_top_ads_sign_desc){%>
.tab-news-content .news-item .news-from .src-sign {
    display: none;
}
.top_ads_singn_desc{
    display: block;
}
<%}%>
</script>
<style id="adjust_css"></style>
</head>
            
<body>
<div id="tab-head-1" class="tab-head" style="">
    <div style="padding-top: 9px;">
        <div style="margin:0px 105px 0px 16px;height:25px;overflow:hidden;text-align:left;">
                <div class="search-button" style="width:11px;height:11px;position:absolute;top:16px; left:26px; 
                   background:url(http://t10.baidu.com/it/u=2383638222,3419487030&fm=76)  no-repeat; background-size:  100% 100%; 
                   background-position:0px 0px;">
                </div>
                <form action="" style="border-radius: 19px;background-color:#fff;" onsubmit="return false;">
                   <input id="search-txt" type="search" style="border-radius: 19px;width:94%;height:25px;border:0px;color:#818181;
                   font-size:11px;outline:0px;line-height: 26px;margin: 0px; padding-left: 34px;" value="" 
                   onkeydown="ThisPage.keyDown(event)" onclick="this.value=''" 
                   onblur="this.value='“' + ThisPage.query +'”的相关信息'"/>
                </form>   
                <div class="tab-head-logo"></div>
        </div>
   </div>
</div>

<div class="top_ads_singn_desc">以下是百度为您推荐的广告</div>
<div id="tab-asp-content" class="tab-news-content water-container tab-asp-content">
</div>
<div id="tab-interest-content">
</div>
<div id="tab-afd-content" class="tab-news-content water-container tab-asp-content">
    <div class="gexing_tips" id="gexing_tips_word" style="padding: 0px;display:none;font-size: 14px;color: gray;text-align: center;">为您推荐的精彩内容</div>
</div>
<div id="tab-feed-content" class="tab-news-content water-container tab-feed-content" style="margin-bottom: 20Px;">
    <div class="feed_title" style="padding: 9px;font-size: 18px;color: #000;text-align: center;">为您推荐的精彩内容</div>
    <div id= "mix-new-list-wrapper" class="news-list-wrapper"></div>
    <div id="ads_loading" class="ads_loading">
        <img class="loadingsign" alt="" src="http://t12.baidu.com/it/u=2594222363,3786436383&fm=76"><span>正在加载更多内容</span>
    </div>
    <div id="ads_nocontent" class="ads_loading">
        <span>没有更多内容了。。。</span>
    </div>
</div>

<div class="baozhang_container" id="baozhang_container" style="display: none;">
    <div class="baozhang_top"  >
        <div class="baozhang_top_text"  >百度推广 全额保障</div>
    </div>
    <hr align="center" height="1px" width="300px" color="#F2F2F2" style="margin-top:3px; margin-bottom:3px;" size="1" >
    <div class="baozhang_info"  >
        <span class="baozhang_span">
            百度和中消协提示您：如您在登录百度账户状态下，在含信誉标识的搜索结果中因假冒官网、劣质或钓鱼欺诈而蒙受经济损失，依《保障协议》符合保障条件的可向百度申请 <a href="http://baozhang.baidu.com/guarantee/" target="_blank">保障</a>。
        </span>
    </div>
</div>
<style type="text/css">
            .baozhang_container {
                padding:10px 16px;
                background:#ffffff;
            }
            
            .baozhang_top {
                height:30px;
                overflow:hidden;
                color: black ;
            }
            .baozhang_top_img {
                float:left;
                height:19px;
                width:18px;
                margin:3px 0px 3px 14px;
            }
            .baozhang_top_text {
                text-align: left;
                color:black;
                font: 16px/1.7 SimHei;
                background-color: #FFFFFF;
                margin-left: 0px;
            }
            .baozhang_info {
                background-color:#FFFFFF;
                color: #898989;
                font: 7px SimHei;
                width: 280;
            }
            .baozhang_span {
                text-align:center;
                width: 280px;
            }
</style>
    
<script type="text/javascript">
window["mid_page_param"] = {
        "query": "$keywordcur$",
        "jk": "$bdTpclickedJk$",
        "cf": "$bdTpclickedCf$",
        "tu": "$bdTpclickedTu$",
        "td": "$bdTpclickedTd$",
        "rs": "$bdTpclickedRs$",
        "cpr": "$bdtlinkcpr$",
        "keywords":["$keyword1$","$keyword2$", "$keyword3$", "$keyword4$", "$keyword5$", "$keyword6$"],
        "menu_href_list": ["$bdLulink1$".replace(/&amp;/g, "&"),"$bdLulink2$".replace(/&amp;/g, "&"),"$bdLulink3$".replace(/&amp;/g, "&"),"$bdLulink4$".replace(/&amp;/g, "&"),"$bdLulink5$".replace(/&amp;/g, "&"),"$bdLulink6$".replace(/&amp;/g, "&")],
        "template":"baiduTpclickedDEFINE_mob",
        "seller_id": "$sellerNetworkId$",
        "query_idx": 0,
        "is_app": "$is_app$",
        "app_id": "$app_id$",
        "lukid":"$lukid$",
        "t":"$t$",
        "is_allow_afd":"$is_allow_afd$",
        mscf:"$mscf$",
        "is_exp_interest":$is_exp_interest$ // 是否曝光兴趣推词８奈笛榭乜刂 TODO

};
</script>
<script type="text/javascript">
ThisPage={
        query: window["mid_page_param"].query,
        mscf: window["mid_page_param"].mscf,
        
        asp_num:0,
        block_asp_num:10,
        enable_indert_asp:true,
        sortId:0,
        interest_exp_layer:[$interest_exp_layer$], // 兴趣推词展现在第几条feed广告后
        interest_already_exp_layer:{}, // 兴趣推词已经展现在第几条feed广告后
        interest_num:0, //兴趣推词的id编号，用于排序，曝光
        newsDataPool:[],
        aspDataPool:[],
        curReqAspOrder:1,
        afdstate:0, //feed广告是否返回了 ,0 未返回，1返回不空，2返回为空
        afdtemp:[], //asp补全feed临时存放
        merge_state:{
            req_asp_num_p_req_news:0
        },
        
        limit_asp_area_num: 10,
        asp_area_num: 0,
        has_render_query_relate : false, 
        has_send_query_relate: false,
        conf:{
            reqSearchAreaAgain: false,
            showNewsArea: false,
            showNewsAreaAsp: true,
            showNewsAreaAspGX: false,
            showNewsAreaAspJP: false,
            needQueryRelatedNews : false,
            needQueryRelatedAppend : false,    //相关内容补余asp
            enableFeedContentNoQuery : false,     //feed区关闭query相关内容
            version: '',
            show_top_ads_sign_desc:false,
            needReqNextAsp : true //是否继续请求广告
        },
        expList:{
            "allow_afd" :  window["mid_page_param"].is_allow_afd == 1 ? true : false, //可以允许feed广告
            "noly_allow_asp" :  $mscf$ == 550 ?  true : false, //只允许asp广告
            "add_feed_ads_1" : false, //search区2+2 反转暂时下掉
            "add_feed_ads_2" : false, //search区2+2＋feed区1：1 下掉
            "add_feed_ads_3" : $mscf$ == 620 ? true : false, //feed区全广告反转实验
            "feed_ads_eids" : $mscf$ == 624 ? true : false, //feed广告是否传递eids
            "ch_ads_exp" : $mscf$ == 622 ? false : true, //ch 加入feed cmatch字段值 －－已全流量变成反转
            "tips_gexing_ads" : $mscf$ == 621 ? 1 : 0, //个性广告或个性区提示实验
            "tips_gexing_noall_ads" : $mscf$ == 626 ? 0 : 1, //个性广告或个性区提示实验无相关才提示
            "search_area_red_tip" : $mscf$ == 625 ? 1 : 0 //搜索区飘红实验

        },
        alsExposureAnchor:[], //{domId:domId, y:坐标, extra_param:xxx}
        //stype=1:beidou stype=2:news stype=3: 内容区广告
        transAspData: function(ads, stype){
            //console.log('transAspData:' + stype);
            //console.log(ads);
            var newads =[];
            var imageMap = {}
            for(var i in ads){
                var obj = {};
                if(!stype){
                    obj.id= 'search_asp_' + i;
                    if(ads[i]["afd_info"] != undefined){
                        obj.id= 'search_afd_' + i;
                    }
                }
                obj.type = 1;// 无图
                obj.tit = ads[i].tit;
                obj.curl = ads[i].curl;
                obj.surl = ads[i].surl;
                obj.stype = stype
                obj.sign = true;
                obj.aashow = ThisPage.mscf!=606 ? true : false;  //线索通是否展示。
                obj.time = '';
                //凤巢配图
                if(!stype || stype == 3){
                    if (ads[i].fc_image_info && ads[i].fc_image_info.img_url){
                        obj.type = 2; // 单图
                        obj.image_url = ads[i].fc_image_info.img_url;
                    }else if (ads[i].st_image_text_info && ads[i].st_image_text_info.img_url){//闪投配图
                        obj.type = 2;
                        if (ads[i].st_image_text_info.img_url.substring(0,13).toLowerCase()=="http%3a%2f%2f") {
                            obj.image_url = decodeURIComponent(ads[i].st_image_text_info.img_url);
                        } else {
                            obj.image_url = ads[i].st_image_text_info.img_url;
                        }
                    }
                    obj.mid = ads[i].mid;
                    // fc feed
                    if (typeof(ads[i].fc_mt) != 'undefined'){
                        fc_mt = ads[i].fc_mt;
                        if (fc_mt.indexOf("3510") != -1) { // 品牌信息
                            obj.surl = ads[i].fc_feed_user.user_name; // 品牌名替换surl
                            obj.uicon = ads[i].fc_feed_user.user_icon; 
                        } 
                        if (fc_mt.indexOf("3177") != -1 || (fc_mt.indexOf("3176") != -1)) { // feed 单图
                            if(ads[i].fc_feed_img.img_list.length >= 3){
                                obj.type = 3;//feed多图
                                obj.image_url_list = ads[i].fc_feed_img.img_list;
                            }else if(ads[i].fc_feed_img.img_list.length >= 1){
                                obj.type = 2;//feed单图
                                obj.image_url = ads[i].fc_feed_img.img_list[0];
                            }
                        }
                        if (fc_mt.indexOf("2165") != -1) { // phone link
                            obj.content = ads[i].fc_phone_info.content;
                            obj.phone_link = ads[i].fc_phone_info.phone_link;
                            obj.phone_num = ads[i].fc_phone_info.phone_num.replace(/\s/g,"");
                            obj.phone_protocal = ads[i].fc_phone_info.phone_protocal;
                        }
                        if (fc_mt.indexOf("2114") != -1) { // aa link
                            obj.content = ads[i].fc_aalink_info.content;
                            obj.aa_link = ads[i].fc_aalink_info.aa_link;
                        }
                        if (fc_mt.indexOf("2046") != -1) {
                            var tag_max = 3;
                            var word_max = 50;
                            if (fc_mt.indexOf("2165") != -1 || fc_mt.indexOf("2114") != -1) {
                                tag_max = 2;
                                word_max = 36;
                            }
                            var cnt = 0;
                            var w_cnt = 0;
                            obj.tag_list = [];
                            for (var j in ads[i].fc_hot_info.hot_descs) {
                                w_cnt += ads[i].fc_hot_info.hot_descs[j].hot_desc.length * 2;
                                if (cnt == tag_max || w_cnt > word_max) break;
                                obj.tag_list.push(ads[i].fc_hot_info.hot_descs[j]);
                                cnt++;
                            }
                            //obj.tag_list = ads[i].fc_hot_info.hot_descs;
                        }
                        if (fc_mt.indexOf("3136") != -1) {
                            obj.sublink_list = ads[i].fc_content_info.labels;
                        }
                    }
                    if (typeof(ads[i].afd_info) != 'undefined'){
                        var  afd_info = ads[i].afd_info;
                        var advisible = afd_info.advisible;
                        if(advisible==0){
                            console.log("freedom feed advisible[" + advisible + "] empty ad!!!");
                            continue;
                        }
                        var ad_style = afd_info.ad_style;
                        if(ad_style==1){
                            obj.type = 2;//feed单图
                            obj.image_url = afd_info.img_list[0];
                        } else if(ad_style==3){
                            obj.type = 3;//feed三图
                        }else if(ad_style==4){//feed视频
                            obj.type = 4;
                            obj.image_url = afd_info.img_list[0];
                        }else if(ad_style==2){//feed大图
                            obj.type = 6;
                            obj.image_url = afd_info.img_list[0];
                        }else{
                            console.log("freedom feed ad_type[" + ad_style + "] error!!!");
                            continue;
                        }
                        obj.image_url_list = afd_info.img_list;
                        obj.surl = afd_info.user_name;
                        obj.uicon = afd_info.user_icon;
                        obj.extra_param = afd_info.extra_param;

                    }
                } else if(stype ==1  && ads[i].w_picurl && ads[i].w_picurl.length > 0){
                        obj.type = 2;
                        obj.image_url = decodeURIComponent(ads[i].w_picurl);
                } else if(stype ==2  && ads[i].w_picurl && ads[i].w_picurl.length > 0) {
                    if(ads[i].w_picurl_list && ads[i].w_picurl_list.length >= 3 
                            && ads[i].w_picurl_list[2].length > 0){
                        obj.type = 3;
                        obj.image_url_list = ads[i].w_picurl_list;
                    } else {
                        obj.type = 2;
                        obj.image_url = ads[i].w_picurl;
                    }
                }
                
                function getUrlPath(url){
                    if(!url){
                        return url;
                    }
                    
                    var path = url;
                    var pathS = url.indexOf("://");
                    if(pathS !=-1){
                        path = path.split("://")[1];
                        var start =path.indexOf("/");
                        path = path.substring(start);
                    }
                    return path;
                }
                //配图url去重
                    
                    if(obj.type == 2){
                        var path = getUrlPath(obj.image_url);
                        if(path in imageMap){
                            console.log("dedup:" +obj.image_url)

                            obj.type = 1;
                        }else{
                            imageMap[path] = 1;
                        }
                    } else if(obj.type == 3){
                        var depurl = [];
                        for(var d=0; d<obj.image_url_list.length && d<3;d++){
                            path = getUrlPath(obj.image_url_list[d])
                            if(!(path  in imageMap)){
                                depurl.push(obj.image_url_list[d]);
                            }else{
                                console.log("dedup:" + obj.image_url_list[d])

                            }
                        }
                        
                        if(depurl.length ==0){
                            obj.type = 1;
                            
                        }else if(depurl.length <3){
                            obj.type = 2;
                            obj.image_url = depurl[0];
                            imageMap[getUrlPath(obj.image_url)] = 1;
                        }else{
                            for(j in depurl){
                                imageMap[getUrlPath(depurl[j])] =1;
                            }
                        }
                    }
                // 单图+有2165/2114+无2046 样式调整 -- 放在图片去重之后
                if (obj.type == 2 && (obj.phone_link||obj.aa_link) && !obj.tag_list) {
                    obj.title_top = 1;
                }
                //新闻
                if (stype == 2){
                    obj.sign = false;
                    obj.time = ads[i].desc;
                    // content page top asp
                    obj.curl = obj.curl + "&tq=" + ThisPage.query;
                } else if (!stype || stype == 3){//asp
                    obj.desc = ads[i].desc;
                    
                    //非搜索区不飘红
                    if(!stype && (i < ThisPage.limit_asp_area_num) && (ThisPage.expList["search_area_red_tip"])) {
                        obj.tit = midpage_mob_common.Utility.newHighLightTwo(obj.tit, ads[i].bid, "#CC0000");
                    }
                }
                if (obj.extra_param){
                    obj.onclick ="ThisPage.sendAlsClicklog(\'" + obj.extra_param + "\');"
                }else {
                    obj.onclick ="";
                }
                newads.push(obj);
            }
            return newads
        },
        T: baidu.template,
        get: function(id){
            return document.getElementById(id);
        },
        run: function(){
            this.ini();
            this.render();
        },
        render: function(){
            this.get('tab-asp-content').innerHTML = '';
            ASP.reqAsp(ThisPage.query, ThisPage.limit_asp_area_num);
           
            if(ThisPage.conf.showNewsAreaAspJP){
                setTimeout(function(){
                   ASP.reqAsp2(ThisPage.query);
                }, 100);
            }

            if(ThisPage.expList["allow_afd"] && !ThisPage.expList["noly_allow_asp"] ){ //asp区请求feed广告实验
                if(ThisPage.expList["add_feed_ads_1"]){
                    ASP.reqAsp(ThisPage.query,1,false,"afd")
                }else{
                    ASP.reqAsp(ThisPage.query,2,false,"afd")
                }
//                if(ThisPage.mscf == 153){ //153再请求一条个性化
//                    ASP.reqAsp(ThisPage.query,1,false,"afd_gexing")
//                }
            }

            
            if (ThisPage.conf.showNewsArea) {
                this.get('mix-new-list-wrapper').innerHTML = '';
                if(ThisPage.conf.showNewsAreaAspGX){
                    ThisPage.reqNextAsp();
                }
                if (ThisPage.conf.needQueryRelatedNews){
                    ThisPage.reqQueryRelatedNews();
                } else {
                    ThisPage.reqNextNews();
                }
            } else {
                this.get('tab-feed-content').style.display = 'none';
                this.get('baozhang_container').style.display = 'block';
            }
            
        },
        transInterestData: function(ads){
           if (!ads) {
               return
           }
           if (ads.length == 0) {
               return []
           }
           var arrEntities={'lt':'<','gt':'>','nbsp':' ','amp':'&','quot':'"'};
           var result = [];
           for (var i=0; i<ads.length;)
           {
               var obj = {};
               if (i+1<ads.length) {
                   obj.key1 = ads[i]['key'];
                   obj.curl1 = ads[i]['curl'].replace(/&(lt|gt|nbsp|amp|quot);/ig,function(all,t){return arrEntities[t];}) + '&mscf=$mscf$';
                   obj.num1 = i;
                   obj.key2 = ads[i+1]['key'];
                   obj.curl2 = ads[i+1]['curl'].replace(/&(lt|gt|nbsp|amp|quot);/ig,function(all,t){return arrEntities[t];}) + '&mscf=$mscf$';
                   obj.num2 =i+1;
                   result.push(obj);
                   i=i+2;
               } else {
                   break;
               }
           }
           return result;
        },
        get_render_interest: function(){
            var interest_list = [{"key":"$keyword2$","curl":"$bdInterestLulink2$"},{"key":"$keyword3$","curl":"$bdInterestLulink3$"},{"key":"$keyword4$","curl":"$bdInterestLulink4$"},{"key":"$keyword5$","curl":"$bdInterestLulink5$"},{"key":"$keyword6$","curl":"$bdInterestLulink6$"},{"key":"$keyword1$","curl":"$bdInterestLulink1$"}]//存放interest recommendation
            var temp = document.createElement("div");
            temp.setAttribute('id','tab-interest-'+ThisPage.interest_num);
            temp.setAttribute('class','tab-interest-content');
            temp.setAttribute('data-sendlog','false');
            temp.innerHTML = ThisPage.T('interest-list_template',{'ads': this.transInterestData(interest_list)});
            ThisPage.interest_num += 1;
            return temp;
        },
        render_interest: function() {
            if (window["mid_page_param"].is_exp_interest &&
                0 < ThisPage.interest_exp_layer.length &&
                Object.keys(ThisPage.interest_already_exp_layer).length < ThisPage.interest_exp_layer.length ) {
                var base_afd_len = 0;
                if(ThisPage.expList["allow_afd"] &&
                   !ThisPage.expList["noly_allow_asp"] ){
                    //asp区请求feed广告实验
                    if(ThisPage.expList["add_feed_ads_1"]){
                        base_afd_len = 1;
                    }else{
                        base_afd_len = 2;
                    }
                }

                var tab_afd_content_node = document.getElementById('tab-afd-content');
                var tab_feed_content_node = document.getElementById('tab-feed-content');
                var afd_nodes = tab_afd_content_node.getElementsByClassName('news-item');
                var afd_nodes_len = afd_nodes.length;
                var feed_nodes = tab_feed_content_node.getElementsByClassName('news-item');
                var feed_nodes_len = feed_nodes.length;

                var sorted_interest_exp_layer = ThisPage.interest_exp_layer.sort(function(a,b) {return a - b});
                for(var i in sorted_interest_exp_layer) {
                    var temp_num = sorted_interest_exp_layer[i];
                    if(temp_num <= afd_nodes_len)
                    {
                        if (undefined == ThisPage.interest_already_exp_layer[temp_num]) {
                            // insert
                            var insert_interest_node = this.get_render_interest();
                            tab_afd_content_node.getElementsByClassName('news-list-wrapper')[0].insertBefore(insert_interest_node, afd_nodes[temp_num]);
                            ThisPage.interest_already_exp_layer[temp_num] = 1;
                        }
                    } else {
                        break;
                    }
                }
                for(var i in sorted_interest_exp_layer) {
                    var temp_num = sorted_interest_exp_layer[i] - base_afd_len;
                    if (temp_num < 0)
                        continue;
                    if(temp_num <= feed_nodes_len) {
                        if (undefined == ThisPage.interest_already_exp_layer[temp_num + base_afd_len]) {
                            // insert
                            var insert_interest_node = this.get_render_interest();
                            tab_feed_content_node.getElementsByClassName('news-list-wrapper')[0].insertBefore(insert_interest_node, feed_nodes[temp_num]);
                            ThisPage.interest_already_exp_layer[temp_num + base_afd_len] = 1;
                        }
                    } else {
                        break;
                    }
                }
                // 飘红实验
                if(window.mid_page_param.mscf == 577){
                    $('.interest .interest-recommend:nth-of-type(2) a').addClass('red');
                }
            }
        },

        ini: function(){
            console.log("ThisPage ini")
            midpage_mob_common.MonitorObject.start();
            
            
            ThisPage.conf.showNewsArea = true;
            ThisPage.limit_asp_area_num = 3;
            ThisPage.conf.showNewsAreaAspGX = true;
            
            //feed实验搜索区2+1+10feed
            //feed实验搜索区2+1+10asp
            //feed实验搜索区2+1+1+10asp
            if(ThisPage.expList["allow_afd"] && !ThisPage.expList["noly_allow_asp"]){ //asp区请求feed广告实验
                ThisPage.limit_asp_area_num = 2;
            }
            if(ThisPage.expList["add_feed_ads_1"] || ThisPage.expList["add_feed_ads_2"]){
                ThisPage.limit_asp_area_num = 2;
            }
            if(!ThisPage.expList["add_feed_ads_3"]){
                ThisPage.conf.showNewsAreaOnlyAsp = true
            }
            if(612 == ThisPage.mscf || 613 == ThisPage.mscf || 614 == ThisPage.mscf || 615 == ThisPage.mscf){
                //配合asp10 接个性feed 实验
                ThisPage.conf.showNewsAreaOnlyAsp = false
            }
            ThisPage.conf.version='4.0';

            if(ThisPage.expList["allow_afd"] == false){
                ThisPage.limit_asp_area_num = 4;
            }
            //ThisPage.conf.show_top_ads_sign_desc = true;

            this.get('adjust_css').innerHTML=(this.T('css_template',{'ads':{},'style':this}));
            if (ThisPage.conf.showNewsArea) {
                midpage_mob_common.Utility.bind(window, "scroll", midpage_mob_common.Utility.proxy(window, ThisPage.onScroll));
            }
            
            this.get('search-txt').value = '“' + ThisPage.query +'”的相关信息';

        },
        renderASP: function(ads){
            if(ThisPage.expList["allow_afd"] && !ThisPage.expList["noly_allow_asp"] && ThisPage.expList["add_feed_ads_1"] && !ThisPage.expList["add_feed_ads_2"]){ //asp区请求feed广告实验
                ThisPage.afdtemp = ads.splice(ThisPage.limit_asp_area_num , 1)
                if(ThisPage.afdstate == 2 && ThisPage.afdtemp.length > 0){
                    ThisPage.renderAfd(ThisPage.afdtemp)
                }
            }

            midpage_mob_common.MonitorObject.sendCallbackRender();
            if(!ads || ads.length <=0){
                if(ThisPage.conf.reqSearchAreaAgain){
                    ASP.reqAsp2(ThisPage.query, ThisPage.limit_asp_area_num);
                    ThisPage.conf.reqSearchAreaAgain = false;
                }
                
                return;
            }
            if (ThisPage.asp_area_num > 0){//搜索区已经显示asp
                console.log('ThisPage.asp_area_num > 0')
                var newads = this.transAspData(ads, 3);
                if(ThisPage.conf.showNewsAreaAspJP){//第二次请求内容放在前方
                    ThisPage.aspDataPool = newads.concat(ThisPage.aspDataPool);
                    ThisPage.renderMerge();
                }
                return;
            }
            console.log('renderASP')
            ThisPage.asp_area_num += ads.length;
            
            var newads = this.transAspData(ads);
            if(ThisPage.limit_asp_area_num < ads.length){
                //超过limit_asp_area_num的asp广告放到feed区。当有两次请求，前一次失败，后一次要补余
                if(ThisPage.conf.showNewsAreaAspJP){
                    var feedads = this.transAspData(ads, 3);
                    var last = feedads.slice(ThisPage.limit_asp_area_num);
                    ThisPage.aspDataPool = last;
                }
                
                newads = newads.slice(0, ThisPage.limit_asp_area_num);
                console.log('newads.slice:')
            }
            
            var innerHTML = this.T('news-list_template',{'ads':newads,'style':this});
            
            var list_div = document.createElement("div");
            list_div.className = "news-list-wrapper";
            list_div.innerHTML = innerHTML;
            this.get("tab-asp-content").innerHTML = '';
            this.get("tab-asp-content").appendChild(list_div);


            for (var x in newads){
                var _log = "&area=aspsearch&id=" + newads[x].id + "&makesaplog=toeclicklog_asp"+ "&type=" + newads[x].type + "&stype=" + newads[x].stype;
                this.addAlsExposureAnchor(newads[x].id,_log)
            }
            var emptynum = ThisPage.limit_asp_area_num - newads.length;
            if(emptynum!=0){
                for(var i =0;i<emptynum;i++){
                    var _log = "&area=aspsearch&id=" +  "&makesaplog=toeclicklog_asp"+ "&emptyall=" + emptynum + "&emptyindex=" + i
                    this.addAlsExposureAnchor(newads[x].id,_log)
                }
            }

            /*ThisPage.asp_num += ads.length;
            if(ads.length>0 && ThisPage.asp_num <10){
                ASP.reqAsp(window["mid_page_param"].query);
            }*/
        },
        renderAfd: function(ads){
            if(ads.length ==0){
                ThisPage.afdstate = 2;//返回为空
                ads = ThisPage.afdtemp;
                if(ads.length == 0){
                    var _log = "&area=aspsearch&id=" +  "&makesaplog=toeclicklog_asp"+ "&emptyall=" + 1 + "&emptyindex=" + 1
                    this.addAlsExposureAnchor( "tab-afd-content",_log)
                }
            }else{
                ThisPage.afdstate = 1;//返回不需要补全
            }

            if(ads.length!=0){
                var newads = this.transAspData(ads);
                var innerHTML = this.T('news-list_template',{'ads':newads,'style':this});
                var list_div = document.createElement("div");
                list_div.className = "news-list-wrapper";
                list_div.innerHTML = innerHTML;
                this.get("tab-afd-content").appendChild(list_div);
                if(newads[0].extra_param){
                    ThisPage.addAlsExposureAnchor(newads[0].id, newads[0].extra_param);
                }
                for (var x in newads){
                    var _log = "&area=aspsearch&id=" + newads[x].id + "&makesaplog=toeclicklog_asp"+ "&type=" + newads[x].type + "&stype=" + newads[x].stype;
                    this.addAlsExposureAnchor(newads[x].id,_log)
                }
                //反作弊
                if(ads.length>0){
                    window.ck = window.Ck().getInstance('#tab-afd-content');
                    var parent = document.querySelector('#tab-afd-content');
                    window.ck.addAdsCk(parent.querySelectorAll('.news-item'), newads[0].mid);
                }
            }

            this.render_interest(); 
        },
        renderASPInsert: function(ads){
            ThisPage.reqNextAsping = false;
        
            midpage_mob_common.MonitorObject.sendCallbackRender();
            console.log('renderASPInsert:');
            if(ads.length > 0){
                ThisPage.reqNextAspEmptyNum = 0;
            
                var newads = this.transAspData(ads, 3);
                ThisPage.aspDataPool= ThisPage.aspDataPool.concat(newads);
                ThisPage.renderMerge();
            }else{
                
                if(!ThisPage.reqNextAspEmptyNum || ThisPage.reqNextAspEmptyNum <= 5){//防止死循环
                     ThisPage.reqNextAsp();
                
                     if(!ThisPage.reqNextAspEmptyNum){
                         ThisPage.reqNextAspEmptyNum = 1
                     }else{
                         ThisPage.reqNextAspEmptyNum +=1
                     }
                }else {
                    var loading = document.getElementById('ads_loading');
                    var noads = document.getElementById('ads_nocontent');
                    if (ThisPage.conf.showNewsAreaOnlyAsp == true){
                        if(loading){
                            loading.remove();
                        }
                        noads.style.display ="block";
                        ThisPage.conf.needReqNextAsp = false;
                    }
                }
            }
            
        },
        reqNextAsp: function(){
            if(ThisPage.conf.needReqNextAsp == false){
                return
            }
            //console.log('reqNextAsp')
            if(ThisPage.reqNextAsping){//只避免连续两次请求
                ThisPage.reqNextAsping = false;
                return false;
            }
            ThisPage.reqNextAsping = true;
            var keyword = "";
            //防止初始值索引出界
            if (ThisPage.curReqAspOrder >= window["mid_page_param"].keywords.length){
                ThisPage.curReqAspOrder = 0;
            }
            //防止keywords里面出现空串query
            while(ThisPage.curReqAspOrder <= window["mid_page_param"].keywords.length  
                    && (keyword.length == 0)){
                keyword = window["mid_page_param"].keywords[ThisPage.curReqAspOrder]
                ThisPage.curReqAspOrder += 1;
            }
            //由于window["mid_page_param"].keywords【0】和ThisPage.query一致，防止重复请求keywords【0】
            if(!keyword || keyword.length == 0){
                keyword = ThisPage.query;
                ThisPage.curReqAspOrder = 1;
            }
            ASP.reqAsp(keyword, 10, true);
            
        },
        reqQueryRelatedNews : function(){
            ThisPage.has_send_query_relate = true;
            var coaParam = {"cst" : 2};
            midpageContent.listRender.getFeedList(function(ads){
                ThisPage.renderNews(ads);
                ThisPage.reqNextNews();
                }, coaParam);
        },
        reqNextNews: function(){
            //console.log('reqNextNews');
            var coaParam = {"cst" : 0};
            if (ThisPage.conf.enableFeedContentNoQuery){
                coaParam = {"cst" : 5};    //关闭query相关区
            }
            midpageContent.listRender.getFeedList(ThisPage.renderNews, coaParam);
        },
        renderMerge: function(){
            //console.log('renderMerge:newsDataPool.length=' + ThisPage.newsDataPool.length);
            if(ThisPage.conf.showNewsAreaOnlyAsp){
                var is_insert_asp = false;
                while(newad = ThisPage.aspDataPool.shift()){
                    newad.id = "asp_sortId_" + ThisPage.sortId;
                    ThisPage.appendItem(newad);
                    ASP.addAntiChect(newad.mid,'#tab-feed-content', newad.id);
                    is_insert_asp = true;
                }
                if (is_insert_asp) {
                    this.render_interest();
                }
                return;
            }
            while(ThisPage.newsDataPool.length > 0){
                if(!ThisPage.nextIsAspShow()){
                    var newad = ThisPage.newsDataPool.shift();
                    newad.id = "news_sortId_" + ThisPage.sortId;
                    
                    ThisPage.appendItem(newad);
                } else{
                    var newad = ThisPage.aspDataPool.shift();
                    
                    if (!newad){
                        //若不显示个性广告直接显示内容
                        if(ThisPage.conf.showNewsAreaAspGX){
                            ThisPage.reqNextAsp();
                        }
                        ThisPage.curReqaspInserted = false;
                        
                        //当asp返回超时后，当前的内容不显示asp
                        /*DEBUG*/
                        setTimeout(function(){
                            if(!ThisPage.curReqaspInserted){
                                _hmt.push(['_trackEvent', window.TONGJI_PAGE, 'merge_asp_timeout',  'sortId_time', new Date().getTime() - window.StartTime]);
                                if(ThisPage.conf.showNewsAreaAspGX){
                                    ThisPage.asptimeout =true;
                                    ThisPage.renderMerge();
                                }else{
                                    if(ThisPage.aspDataPool.length <= 0){
                                        ThisPage.conf.showNewsAreaAsp = false;
                                    }
                                    ThisPage.renderMerge();
                                }
                            }
                            
                        }, 1000);//DEBUG 10s
                        return;
                    }
                    
                    ThisPage.curReqaspInserted = true;
                    newad.id = "asp_sortId_" + ThisPage.sortId;
                    ThisPage.appendItem(newad);
                    ASP.addAntiChect(newad.mid,'#tab-feed-content', newad.id);
                }
                
                if(ThisPage.newsDataPool.length <= 0){
                    ThisPage.asptimeout = false;
                }
            }
            
        },
        
        sendAlslog: function(da_type, extra_param){
            if(!extra_param || !extra_param.length){
                return;
            }
            if(extra_param.match(/toeclicklog/g) != null && da_type == 3){ //asp打点修改src
                var als_get = "https://eclick.baidu.com/m.js?";
                var _asplog = "et=makepot&jk=$bdTpclickedJk$&temp=$t$&mscf=$mscf$&start_time="+new Date().getTime() + extra_param +"&random="+ Math.random()+ "&is_app=" + "$is_app$" +"&lukid=" + "$lukid$";
                var image = document.createElement("img");
                image.src = als_get + _asplog;
            }else{
                var als_get = "https://als.baidu.com/clog/glog?";
                var productId = 22;//固定值
                var _client_type = 1;
                if(window["mid_page_param"].is_app == "1"){
                    _client_type = 2
                }
                var _os_type = '$mdsp_platform$';//1:ios, 2:android
                var net_type = '$net_type$';
                var cuid="$cuid$";

                var baiduId = ""
                var reg = /BAIDUID=\w+\:\w+=\d+/g;
                var cookies = document.cookie.match(reg)
                if (cookies && cookies.length >0 && cookies[0].split("BAIDUID=").length >1){
                    baiduId = cookies[0].split("BAIDUID=")[1];
                }
                // 透传baiduId
                if ("$enable_adb$" == 1 && "$bdid$".length > 0){
                    baiduId =  "$bdid$";
                }
                var da_page = "HCFRS";
                var origin_time = (new Date()).getTime();

                var _log = "productId="+ productId +"&logid="+Math.random()+"&da_type=" + da_type + "&_client_type=" + _client_type + "&_os_type=" + _os_type +  "&net_type=" + net_type +  "&cuid=" + cuid +  "&baiduId=" + baiduId + "&da_page=" + da_page + "&da_page_num=1" + "&da_locate=1" + "&origin_time=" + origin_time + "&da_area=link" + "&ext_info="+ encodeURIComponent(extra_param) + "&random="+ Math.random()
                var image = document.createElement("img");
                image.src = als_get + _log;
            }

        },
        
        sendAlsClicklog: function(extra_param){
            ThisPage.sendAlslog(2, extra_param);
        },
        
        sendAlsExposureLog: function(extra_param){
            ThisPage.sendAlslog(3, extra_param);
        },
        //afd返回的有extra_param
        addAlsExposureAnchor: function(domId, extra_param){
            if(!extra_param || !extra_param.length){
                return;
            }
            
            var targetEle = document.getElementById(domId);
            var targetTop =  midpage_mob_common.Utility.getElementOffset(targetEle).top;
            var sTop = midpage_mob_common.Utility.getScrollTop();
            var cHeight = midpage_mob_common.Utility.getClientHeight();
            
            if ((sTop + cHeight) > targetTop) {
                ThisPage.sendAlsExposureLog(extra_param);
            }else {
                var anchor = {"domId": domId, "y": targetTop, "extra_param":extra_param};
                ThisPage.alsExposureAnchor.push(anchor);
            }
        },
        
        checkExposureAnchor: function(){
            var sTop = midpage_mob_common.Utility.getScrollTop();
            var cHeight = midpage_mob_common.Utility.getClientHeight();
        
            var temp = [];
            for(a in ThisPage.alsExposureAnchor){
                if ((sTop + cHeight) > ThisPage.alsExposureAnchor[a].y){
                    ThisPage.sendAlsExposureLog(ThisPage.alsExposureAnchor[a].extra_param);
                } else {
                    temp.push(ThisPage.alsExposureAnchor[a]);
                }
            }
            ThisPage.alsExposureAnchor= temp;
        },
        
        appendItem: function(newad){
            var list_div = document.createElement("div");
            var innerHTML = ThisPage.T('news-list_template',{'ads':[newad],'style':ThisPage});
            list_div.innerHTML = innerHTML;
            for(i in list_div.children){
                if(list_div.children[i].nodeType == 1){//元素节点
                    if (newad.queryRelated){
                        var container = this.get('mix-new-list-wrapper');
                        var first = this.get('mix-new-list-wrapper').firstChild;
                        if(!!first){
                            container.insertBefore(list_div.children[i], first)
                        } else {
                            container.append(list_div.children[i]);
                        }
                    } else {
                        this.get('mix-new-list-wrapper').appendChild(list_div.children[i]);//TODO:
                    }
                }
            }


            if(newad.extra_param){
                ThisPage.addAlsExposureAnchor(newad.id, newad.extra_param);
            }

            var _logparam = newad.extra_param ? "&area=feed&id=" + newad.id + "&makelog=toeclicklog_feed" + "&type=" + newad.type + "&stype=" + newad.stype : "&area=feed&id=" + newad.id + "&makelog=toeclicklog_asp" + "&type=" + newad.type + "&stype=" + newad.stype
            ThisPage.addAlsExposureAnchor(newad.id, _logparam);
            if(ThisPage.currentIdIsAsp(ThisPage.sortId) && newad.stype == 2 ){//当前是内容
                _logparam += "&empty=emptyads_" + ThisPage.sortId;
                ThisPage.addAlsExposureAnchor(newad.id, _logparam);
            }


            ThisPage.sortId += 1;// 累加序号
        },
        //sortId从0开始
        nextIsAspShow: function(){
            if(!ThisPage.conf.showNewsAreaAsp ){
                return false;
            }
            
            if(ThisPage.asptimeout){
                return false;
            }
            return ThisPage.currentIdIsAsp(ThisPage.sortId)
        },
        currentIdIsAsp: function(sortId){
            var t = null;
            t = sortId % 10;
            if(ThisPage.expList["add_feed_ads_2"]){
                if(t== 0 || t == 2 || t ==4 || t == 6 || t == 8 ){
                    return true;
                }else {
                    return false
                }
            }
            //第3、6、10出广告
            if(t== 2 || t == 5 || t == 9){
                return true;
            }else {
                return false
            }
        },
        renderQueryRelated : function(ads){
            //query相关内容要依次插入到头部 所以这里需要逆序
            ads.reverse();
            for (var i in ads){
                if (typeof(ads[i]) != "function"){
                    ads[i].queryRelated = true;
                    ThisPage.appendItem(ads[i]);
                }
            }
        },
        renderNews: function(ads){
            ThisPage.retryTime = ThisPage.retryTime || 0;
            midpage_mob_common.MonitorObject.sendCallbackRender();
            var loading = document.getElementById('ads_loading');
            var noads = document.getElementById('ads_nocontent');
            if (loading){
                loading.style.display= 'none';
                noads.style.display= 'none';
            }
            
            var newads = ThisPage.transAspData(ads, 2);
            if (ThisPage.has_send_query_relate && 
                    !ThisPage.has_render_query_relate &&
                    newads && newads.length <= 5){
                ThisPage.renderQueryRelated(newads);
                ThisPage.has_render_query_relate = true;
            } else {
                ThisPage.newsDataPool = ThisPage.newsDataPool.concat(newads);
                ThisPage.renderMerge();
            }
           
            ThisPage.get("tab-feed-content").appendChild(loading);
            ThisPage.get("tab-feed-content").appendChild(noads);
            
        },
        dropDownDisplay: function(){
            if (ThisPage.conf.showNewsArea) {
                 if(ThisPage.conf.showNewsAreaOnlyAsp){
                     if(ThisPage.aspDataPool.length <=0){
                         ThisPage.reqNextAsp();
                     } else {
                         ThisPage.renderMerge();
                     }
                 } else if (ThisPage.newsDataPool.length == 0 ) {
                    ThisPage.reqNextNews();
                } else {
                    ThisPage.renderMerge();
                }
            }
            var loading = document.getElementById('ads_loading');
            if (loading){
                loading.style.display= 'block';
            }
        },
        
        keyDown:function(e) {
             var ev= window.event||e;
             //13是键盘上面固定的回车键
             if (ev.keyCode == 13) {
                   ThisPage.search(); 
             }
        },
        search:function(){
           
           /******local open*/
           var value =  document.getElementById('search-txt').value;
           
           value = value.replace(/[\"\'“”‘’']/g, " ");
           
           /*
           if (value != '') {
               ThisPage.query = value;
               ThisPage.render();
           }
           
           document.getElementById('search-txt').blur()
           return;
           *******end***********/
           //去大搜
           //url = 'https://m.baidu.com/s?from=1012340a&word=' + value;
           //去本地
           if(value != '' && window["mid_page_param"].menu_href_list.length > 0){
               url = window["mid_page_param"].menu_href_list[0];
               url = url.replace(/([?&])rs=([^&]*)/g, "$1rs=4");
               url = url.replace(/([?&])di=([^&]*)/g, "$1di=1");
               url = url.replace(/([?&])k=([^&]*)/g, "$1k=" + encodeURIComponent(value));
               url += '&mscf=' + ThisPage.mscf;
           }

           if(url){
               _hmt.push(['_trackEvent', window.TONGJI_PAGE, 'search', 'time', new Date().getTime() - window.StartTime]);
               window.location.href= url; 
           }
           
           //window.open(url)
        },
        onScroll: function() {
            if(ThisPage.dropDowning){
                    return;
                }
                
            ThisPage.dropDowning = true;
            setTimeout(function(){
                ThisPage.dropDowning = false;
                ThisPage.checkExposureAnchor();
            }, 200);

            var sTop = midpage_mob_common.Utility.getScrollTop();
            var cHeight = midpage_mob_common.Utility.getClientHeight();
            var sHeight = midpage_mob_common.Utility.getScrollHeight();
            //到达底部
            if((sTop + cHeight +400)>= sHeight) {
                //console.log('dropDownDisplay')
                ThisPage.dropDownDisplay();
            }
        },
        defindAfdPid:function (x) { //参数表示是哪个区的
            var _isapp = $is_app$ == 1 ?  true : false ;
            var UA = navigator.appVersion;
            var u = navigator.userAgent;
            var ios = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/) ? 1 :0;
            var _pid = null;
            if(_isapp && ios){
                _pid = x =="search"  ? "1505368534182" : "1498819769061"
            }else if(_isapp && ios===0){
                _pid = x =="search"  ? "1505368453865" : "1498819694173"
            }else if(_isapp==false && ios){
                _pid = x =="search"  ? "1505368693013" : "1498819635307"
            }else if(_isapp==false && ios ===0){
                _pid = x =="search"  ? "1505368621478" : "1498819561331"
            }else {
                _pid = 0;
            }
            return _pid;
        },
        clickLog:function (t,stype) {
            if(!t || !stype){
                return
            }
            var randomlog = "log_" + Math.random();
            window.randomlog = new Image();
            var clicktype = 0;
            if(stype==3){
                clicktype = "ads";
            }else if(stype==2){
                clicktype = "news";
            }
            var clickLog = "et=makepot&jk=$bdTpclickedJk$&temp=$t$&mscf=$mscf$&start_time="+new Date().getTime() + "&clicktype=" +clicktype +"&clickid="  + t.id;
            window.randomlog.src = "https://eclick.baidu.com/m.js?" + clickLog;
        },
}
   
</script>
<script type="text/javascript">
var ASP={
        asp_rs: 10,
        arrBaiduCproConfig:new Array('k', 'cf', 'tp2jk', 'rs', 'tu', 'td', 'tn', 'n', 'ch', 'jk',
                'func', 'stid', 'is_app', 'app_id', 'app_sid', 'seller_id', 'ap_id', 'adclass', 'ctk',
                'mscf', 'tp2s', 'luki', 'lukid', 'itm',
                'rsi1', 'rsi0', 'cn', 'ffadn', 'fffadn', 'pid','eids','wi', 'at', 'nttp', 'tsf',
                'word', 'refer',
                'rad', 'cad', 'cpa', 'ready', 'js', 'lmt', 'csp', 'ccd', 'cja',
                'cpl', 'cmi', 'cce', 'csl', 'did', 'rt', 'dt', 'prt', 'cm', 'um',
                'wn', 'tm', 'hn', 'ie', 'i3', 'distp', 'sdk_version', 'sdk_v', 'has_itm', 'prot',
                'ar', 'cuid', 'swi', 'en_adb', 'bdid'),
        //新闻区插入asp rs从10开始累加 ch加feed后缀
        reqAsp: function(asp_query_key, req_num, insert,adtype){
            //console.log("reqAsp:"+insert + ' query:' + asp_query_key);
            ASP.init(asp_query_key);
            ASP.arrBaiduCproConfig['tn']="baiduTpclickedDEFINE_mob"; 
            ASP.arrBaiduCproConfig['wn'] = 1; //横向广告条数
            if(!req_num){
                ASP.arrBaiduCproConfig['hn'] = 10; // 请求广告个数?
            }else {
                ASP.arrBaiduCproConfig['hn'] = req_num; // 请求广告个数?
            }
            
            ASP.arrBaiduCproConfig['at'] = 1; //表明请求的是文本物料
            var ch_suff = 'top';
            var ch_head = 'luasp340';
            if (window["mid_page_param"].is_app == "1") {
                ch_head = 'luasp354';
            }
            if(insert) {
                ASP.arrBaiduCproConfig['func'] = 'ASP.asp_insert_render';
                ASP.arrBaiduCproConfig['eids'] =  '';
                if(ThisPage.expList["feed_ads_eids"]) {
                    ASP.arrBaiduCproConfig['eids'] = window["mid_page_param"].is_app == 1 ? "6000104" : "6000103"; //eid圈流量
                }
                ASP.arrBaiduCproConfig['rs'] = ASP.asp_rs;
                ASP.asp_rs += 1;
                if (ASP.asp_rs > 999){
                    ASP.asp_rs = 999;
                }
                ch_suff= 'feed'
                    
                ASP.arrBaiduCproConfig['tn']="baiduTpclickedDEFINE_mob";
                ASP.arrBaiduCproConfig['pid'] = ThisPage.defindAfdPid("feed") ? ThisPage.defindAfdPid("feed") : '';

                //550全部asp；
                //41、601、603：搜索区1条afd，feed区afd,603为vip
                //40、602：feed区afd,  602为bns, 
                if(ThisPage.expList["allow_afd"] && !ThisPage.expList["noly_allow_asp"] ){ //asp区请求feed广告实验
                // fc freedom feed -- for feed req
                    ASP.arrBaiduCproConfig['fffadn'] = ASP.arrBaiduCproConfig['hn'];
                    ch_head = 'luasp607';
                    if (window["mid_page_param"].is_app == "1") {
                        ch_head = 'luasp606';
                    }
                }

                if(604 == ThisPage.mscf ){
                    ASP.arrBaiduCproConfig['fffadn'] = 10;
                }
                if(ThisPage.expList["allow_afd"] == false){
                    ASP.arrBaiduCproConfig['hn'] = 10;
                    ASP.arrBaiduCproConfig['fffadn'] = 0;
                }
                var image = document.createElement("img");
                image.src = "https://eclick.baidu.com/m.js?" + "et=logReq&jk=$bdTpclickedJk$&temp=$t$&mscf=$mscf$&start_time="+ (new Date()).getTime() +"&is_app=" + "$is_app$" + "&lukid=" + "$lukid$" +"&req=reqfeed";
            } else{
                ASP.arrBaiduCproConfig['func'] = 'ASP.asp_render';
                ASP.arrBaiduCproConfig['eids'] =  ''
                ASP.arrBaiduCproConfig['pid'] = ThisPage.defindAfdPid("search") ? ThisPage.defindAfdPid("search") : '';
                if(ThisPage.expList["allow_afd"]){
                    if(604 == ThisPage.mscf){
                        ASP.arrBaiduCproConfig['eids'] = window["mid_page_param"].is_app==1 ?  "6000106" : "6000105";
                        ASP.arrBaiduCproConfig['hn'] = req_num + 1; //多请求一条给afd补余
                        if(adtype && adtype =="afd"){ //请求afd广告
                            ASP.arrBaiduCproConfig['fffadn'] = 1;
                            ASP.arrBaiduCproConfig['func'] = 'ASP.feed_req_render';
                        }
                        if(adtype && adtype =="afd_gexing"){ //search再加一条个性化feed
                            ASP.arrBaiduCproConfig['pid'] = ThisPage.defindAfdPid("feed") ? ThisPage.defindAfdPid("feed") : ''
                            if(ThisPage.expList["feed_ads_eids"]) {
                                ASP.arrBaiduCproConfig['eids'] = window["mid_page_param"].is_app == 1 ? "6000104" : "6000103"; //eid圈流量
                            }
                            ASP.arrBaiduCproConfig['fffadn'] = 1;
                            ASP.arrBaiduCproConfig['func'] = 'ASP.feed_req_render';
                        }
                    }
                    else if(!ThisPage.expList["noly_allow_asp"] ){ //asp区请求feed广告实验 //search区1条个性feed   601 hcui exp
                        if(ThisPage.expList["feed_ads_eids"]){
                            ASP.arrBaiduCproConfig['eids'] =  window["mid_page_param"].is_app==1 ?  "6000104" : "6000103"; //eid圈流量
                        }
                        if(ThisPage.expList["add_feed_ads_1"]) {
                            ASP.arrBaiduCproConfig['hn'] = req_num + 1; //多请求一条给afd补余
                        }
                        if( adtype && adtype =="afd"){
                            ASP.arrBaiduCproConfig['pid'] = ThisPage.defindAfdPid("feed") ? ThisPage.defindAfdPid("feed") : ''
                            ASP.arrBaiduCproConfig['fffadn'] = req_num;
                            ASP.arrBaiduCproConfig['func'] = 'ASP.feed_req_render';
                            ch_head = 'luasp607';
                            if(window["mid_page_param"].is_app == "1"){
                                ch_head = 'luasp606';
                            }
                        }
                    }
                }
                //ASP.arrBaiduCproConfig['rs'] = "1";
                var image = document.createElement("img");
                image.src = "https://eclick.baidu.com/m.js?" + "et=logReq&jk=$bdTpclickedJk$&temp=$t$&mscf=$mscf$&start_time="+ (new Date()).getTime() +"&is_app=" + "$is_app$" + "&lukid=" + "$lukid$" +"&req=reqasp";
            }
            if(ASP.arrBaiduCproConfig['fffadn'] == 0){
                ASP.arrBaiduCproConfig['eids']='1122'; //AA
                if (606 == ThisPage.mscf) {
                    ASP.arrBaiduCproConfig['eids']='1123'; //AA base
                }
                if (607 == ThisPage.mscf) {
                    ASP.arrBaiduCproConfig['eids']='1124'; //AA base
                }
            }
            ASP.arrBaiduCproConfig['ch'] = 'luasp340' + ch_suff; // 渠道值
            if(window["mid_page_param"].is_app == "1"){
                   ASP.arrBaiduCproConfig['ch'] = 'luasp354' + ch_suff; // 渠道值 app是354
            }
            if(ThisPage.expList["ch_ads_exp"]){
                ASP.arrBaiduCproConfig['ch'] = ch_head + ch_suff; // 渠道值
            }
            ASP.requestNews(ASP.arrBaiduCproConfig);
        },
        reqAsp2: function(asp_query_key, req_num){
            console.log("reqAsp2:" + asp_query_key);
            ASP.init(asp_query_key);
            ASP.arrBaiduCproConfig['tn']="baiduTpclickedDEFINE_mob";
            ASP.arrBaiduCproConfig['wn'] = 1; //横向广告条数
            ASP.arrBaiduCproConfig['at'] = 1; //表明请求的是文本物料
            var ch_suff = 'top2';
            
            ASP.arrBaiduCproConfig['func'] = 'ASP.asp_render'
            ASP.arrBaiduCproConfig['rs'] = "2";
            
            if(!req_num){
                ASP.arrBaiduCproConfig['hn'] = 10; // 请求广告个数?
            }else {
                ASP.arrBaiduCproConfig['hn'] = req_num; // 请求广告个数?
            }
            ASP.arrBaiduCproConfig['ch'] = 'luasp340' + ch_suff; // 渠道值
            if(window["mid_page_param"].is_app == "1"){
                   ASP.arrBaiduCproConfig['ch'] = 'luasp354' + ch_suff; // 渠道值 app是354
            }
            ASP.requestNews(ASP.arrBaiduCproConfig);
            var image = document.createElement("img");
            image.src = "https://eclick.baidu.com/m.js?" + "et=logReq&jk=$bdTpclickedJk$&temp=$t$&mscf=$mscf$&start_time="+ (new Date()).getTime() +"&is_app=" + "$is_app$" + "&lukid=" + "$lukid$" +"&req=reqfeed";
        },
        asp_render: function (ads){
            if(ads && ads["res"] != undefined){
                ads = ads["res"]
            }
            if (!ads || ads.length == 0){
                if (ThisPage.conf.needQueryRelatedAppend && !ThisPage.conf.queryRelatedAppended){
                    ThisPage.conf.queryRelatedAppended = true;
                    var coaParam = {"cst" : 2,
                                    "ch" : "luneirongtop"};
                    midpageContent.listRender.getFeedList(ThisPage.renderNews, coaParam);
                    ThisPage.has_send_query_relate = true;
                }
                if(ThisPage.expList.tips_gexing_noall_ads == 1){
                    ThisPage.get('gexing_tips_word').style.display = 'block'
                }
            } else {
                ThisPage.renderASP(ads);
            }
            if(ads.length>0){
                //反作弊
                window.ck = window.Ck().getInstance('#tab-asp-content');
                var parent = document.querySelector('#tab-asp-content');
                window.ck.addAdsCk(parent.querySelectorAll('.news-item'), ads[0].mid);
                //window.ck.addAdsCk(document.querySelectorAll('.aa-link-slow'), ads[0].mid);
            }
        },

        feed_req_render: function (ads){//渲染feed广告
            if(ads && ads["res"] != undefined){
                ads = ads["res"]
            }
            ThisPage.renderAfd(ads);

        },
        asp_insert_render: function (ads){
            if(ads && ads["res"] != undefined){
                ads = ads["res"]
            }
            ThisPage.renderASPInsert(ads);
                    //ASP.addAntiChect(ads[0].mid, antikey, domId);
        },
        
        addAntiChect: function(mid, parentid, domId){
                //反作弊
            window.ck = window.Ck().getInstance(parentid);
            window.ck.addAdsCk(document.querySelectorAll('#'+domId), mid);
            //window.ck.addAdsCk(document.querySelectorAll('.aa-link-slow'), mid);
        },
        mkjk:function () {
                 return window.ASP.md5(Math.random()*1000000 + window.document.location.href + window.document.cookie);
            },
        md5 :$TemplateEngine.md5$,
        //DEBUG
        //md5:function(){return ''},
        init:function(asp_query_key){
            
            var arrBaiduCproConfig = ASP.arrBaiduCproConfig;
           
            arrBaiduCproConfig['wi'] = "$wi$";
            arrBaiduCproConfig['adclass'] ="$adclass$";
            arrBaiduCproConfig['sdk_version'] ="$sdk_version$";
            arrBaiduCproConfig['sdk_v'] ="$sdk_v$";
            arrBaiduCproConfig['app_sid'] ="$app_sid$";
            arrBaiduCproConfig['stid'] =  "$stid$";
            arrBaiduCproConfig['luki'] =  "$luki$";
            arrBaiduCproConfig['lukid'] =  "$lukid$";
            //前链所在页面地址和中间页url里u字段一致
            arrBaiduCproConfig['word'] =  encodeURIComponent("$u$");
            arrBaiduCproConfig['itm']="$itm$";
            arrBaiduCproConfig['has_itm']="$has_itm$";
            arrBaiduCproConfig['tsf']="$tsf$";
            arrBaiduCproConfig['nttp']="$nttp$";
            arrBaiduCproConfig['ctk']="$ctk$";
            arrBaiduCproConfig['ap_id']="$ap_id$";
            //fc feed fea -- for all req
            arrBaiduCproConfig['cuid'] = "$cuid$";
            arrBaiduCproConfig['swi'] = "$net_type$";
            arrBaiduCproConfig['tp2s'] = "$tp2s$";
            arrBaiduCproConfig['en_adb'] = "$enable_adb$";
            arrBaiduCproConfig['bdid'] = "$bdid$";

                arrBaiduCproConfig['rsi0'] = 200; // 广告位宽
                arrBaiduCproConfig['rsi1'] = 200; // 广告位高
                arrBaiduCproConfig['cpa'] = 0;
                arrBaiduCproConfig['cn'] = 2;    // 请求广告个数?
                arrBaiduCproConfig['ar'] = 1; 
                arrBaiduCproConfig['refer'] = (function(){
                                    var result = "https://pos.baidu.com/acom?k=" + asp_query_key;
                                    /*try{
                                        result = window.opener ?  window.opener.document.location.href : window.document.referrer;
                                    }
                                    catch(ex){
                                        result = window.document.referrer;
                                    }*/
                                    return encodeURIComponent(midpage_mob_common.Utility.escapeToEncode(result));
                                })();
                arrBaiduCproConfig['ready'] = (function(){
                                    //refer : https://www.w3schools.com/jsref/prop_doc_readystate.asp
                                    var statusmap = {
                                        "uninitialized" : 0,
                                        "loading"       : 1,
                                        "loaded"        : 2,
                                        "interactive"   : 3,
                                        "complete"      : 4
                                    };
                                    try{
                                        return statusmap[window.document.readyState];
                                    }
                                    catch(e){
                                        return 5;
                                    }
                                })();
                // 前端s值, 用于标识一次检索请求
                arrBaiduCproConfig['jk'] = ASP.mkjk();
                // 本请求使用的js文件名称
                arrBaiduCproConfig['js'] = "ui";
                // document.lastModified 文档最后修改时间. 参见w3c
                // http://www.w3.org/TR/html5/dom.html#dom-document-lastmodified
                arrBaiduCproConfig['lmt'] = Date.parse(window.document.lastModified)/1000;
                // 桌面的分辨率, 包含任务条; 形式为:宽，高。e.g.:1024,768
                arrBaiduCproConfig['csp'] = window.screen.width + "%2C" + window.screen.height;
                // 桌面色深. ff的实现与显卡驱动输出有关, 与桌面的显示设置可能不同
                arrBaiduCproConfig['ccd'] = window.screen.colorDepth;
                // 否允许java
                //arrBaiduCproConfig['cja'] = window.navigator.javaEnabled().toString();
                arrBaiduCproConfig['cja'] = typeof(window.navigator.javaEnabled) !== 'undefined' && window.navigator.javaEnabled();
                // plugin插件数量
                arrBaiduCproConfig['cpl'] = window.navigator.plugins.length;
                // mime对象数量
                arrBaiduCproConfig['cmi'] = window.navigator.mimeTypes.length;
                
                // show url长度
                arrBaiduCproConfig['um'] = 0;
                // 当前编码
                arrBaiduCproConfig['ie'] = 0;
                // 否是360浏览器
                arrBaiduCproConfig['i3'] = "f";
                arrBaiduCproConfig['distp'] = 2001;

                arrBaiduCproConfig['n'] = window["mid_page_param"].cpr;
                arrBaiduCproConfig['tn'] = window["mid_page_param"].template;
                // 横向广告条数
                arrBaiduCproConfig['wn'] = 2; //横向广告条数
                // 纵向广告条数
                arrBaiduCproConfig['hn'] = 1; //纵向广告条数
                arrBaiduCproConfig['ffadn'] = 0; //fc feed ad num
                arrBaiduCproConfig['fffadn'] = 0; //fc freedom feed ad num
                arrBaiduCproConfig['at'] = 2;
                arrBaiduCproConfig['func'] = "ASP.asp_render";
            
                // 标题长度
                arrBaiduCproConfig['tm'] = '255';
                // 描述文字长度
                arrBaiduCproConfig['cm'] = '255';
                arrBaiduCproConfig['rad'] = 0; //是否出不相关广告
                arrBaiduCproConfig['cad'] = 0; //是否显示公益广告
                //arrBaiduCproConfig['k'] = window["mid_page_param"].query; //当前选中关键词
                arrBaiduCproConfig['k'] = asp_query_key; //当前选中关键词
                //arrBaiduCproConfig['k'] ='aaa'
                // lu中间页策略标识符，因为需要和第一次策略相对应，故需要将第一次策略的cf传递给第二次
                arrBaiduCproConfig['cf'] = window["mid_page_param"].cf; //lu策略标识符
                arrBaiduCproConfig['mscf'] = window["mid_page_param"].mscf; //lu样式控制策略
                arrBaiduCproConfig['tp2jk'] = window["mid_page_param"].jk; //用于连接lu第一次和第二次
                arrBaiduCproConfig['tu'] = window["mid_page_param"].tu; //用于分tu进行报表统计，提供网站主分tu的数据
                arrBaiduCproConfig['td'] = window["mid_page_param"].td; //用于分td进行报表统计，提供网站主分td的数据
                // lu中间页需要区分是来自第一次标签点击还是来自中间页标签点击
                arrBaiduCproConfig['rs'] = window["mid_page_param"].rs; //用于区分中间页是来自第一次的主题词还是第二次的主题词
                arrBaiduCproConfig['seller_id'] = window["mid_page_param"].seller_id; //标识流量来源
                arrBaiduCproConfig['app_id'] = window["mid_page_param"].app_id; //app_id
                arrBaiduCproConfig['is_app'] = window["mid_page_param"].is_app; //is app
                // 广告自增id
                arrBaiduCproConfig['did'] = 0;

                // 是否支持cookie
                arrBaiduCproConfig['cce'] = window.navigator.cookieEnabled;
                // OS使用的默认语言
                arrBaiduCproConfig['csl'] = encodeURIComponent( window.navigator.language || window.navigator.browserLanguage || window.navigator.systemLanguage ).replace(/[^a-zA-Z0-9\-]/g, '');
                // 当前客户端时间
                arrBaiduCproConfig['dt'] = Math.round((new Date).getTime() / 1000);
                // 页面第一次请求的时间戳
                arrBaiduCproConfig['prt'] = (new Date()).getTime();
                
                arrBaiduCproConfig['wn'] = 1; //横向广告条数
                arrBaiduCproConfig['hn'] = 10; //纵向广告条数
                arrBaiduCproConfig['cn'] = 10; // 请求广告个数?
                arrBaiduCproConfig['at'] = 1; //表明请求的是文本物料
                arrBaiduCproConfig['ch'] = 'luasp340'; //渠道值
                if (window.location.protocol.indexOf("https") ==0) {
                    arrBaiduCproConfig['prot'] = 2;
                } else {
                    arrBaiduCproConfig['prot'] = 1;
                }
        },
        requestNews:function(para) {
                var i = 0,

                newsrc = "https://cpro.baidu.com/cpro/ui/uijs.php?";
                if (609 != ThisPage.mscf  && window["mid_page_param"].is_app != 1) {
                    newsrc = "https://luflow.baidu.com/sfh/login?";
                }
                if (para["en_adb"] == 1
                    && para["bdid"].length > 0
                    && window["mid_page_param"].is_app != 1
                ) {
                    newsrc = "/sfh/login?";
                }
                para['did'] += 1;
                if(!window.StartTime){
                    console.log("StartTime not define in html head node!!!")
                    window.StartTime=0
                }
                para['rt'] = (new Date()).getTime() - window.StartTime;

                for (i = 0; i < para.length; i++) {
                    newsrc += (para[i] + "=" + para[para[i]] + "&");
                }

                var newScript = document.createElement("script");
                newScript.type = "text/javascript";
                newScript.src = newsrc;
                document.getElementsByTagName("head")[0].appendChild(newScript);
                return newsrc;
        }
    }

</script>
<script type="text/javascript">
        //反作弊处理， 防止一些坑，做了特殊处理
        window.imTimeSign = 99;
        window.Ck = function () {

            /**
             * 设备是否ios
             */
            var deviceIsIOS;

            /**
             * 唯一实例存放变量
             */
            var uniqueInstance;

            /**
             * body
             */
            var bd;

            /**
             * touchStart 时间戳
             */
            var touchStartTime;

            /**
             * touchEnd 时间戳
             */
            var touchEndTime;

            /**
             * touchStartTime 和 touchEndTime 的差
             */
            var pressTime;

            /**
             * touchStart X 坐标 相对屏幕
             */
            var touchX;

            /**
             * touchStart Y 坐标相对屏幕
             */
            var touchY;

            /**
             * 是否开始滚动
             */
            var isStartScroll;

            /**
             * 最近一次滚动的Y坐标
             */
            var scrollLastY;

            /**
             * 开始滚动的Y坐标
             */
            var scrollStartY;

            /**
             * 开始滚动的时间
             */
            var scrollStartTime;

            /**
             * 最近一次滚动的时间
             */
            var scrollLastTime;

            /**
             * 滚动整体时间
             */
            var scrollTotalTime;

            /**
             * 滚动方向
             */
            var scrollDirection;

            /**
             * 滚动次数
             */
            var scrollNum;

            /**
             * 滚动方向改变量
             */
            var scrollTotalChange;

            /**
             * 有效滚动距离
             */
            var validDirection;

            /**
             * 滚动阈值
             * @type {Number}
             */
            var scrollBoundary = 10;

            /**
             * 匹配数字的正则表达式
             * @type {RegExp}
             */
            var numReg = /\d+/;

            /**
             * 点击时间
             */
            var clickTime;

            /**
             * 点击坐标X
             */
            var clickX;

            /**
             * 点击坐标Y
             */
            var clickY;

            /**
             * 点击时间和touchEnd时间差
             */
            var diffclickTimeAndTouchEndTime;

            /**
             * 卡片选择器
             */
            var cardSelector;

            /**
             * 卡片高度
             */
            var cardWidth;

            /**
             * 卡片宽度
             */
            var cardHeight;

            /**
             * 构造
             * @param {string} selector 卡片选择器
             * @return {Object} 暴露接口方法
             */
            function constructor(selector) {
                bd = document.body;
                touchStartTime = 0;
                touchEndTime = 0;
                pressTime = 0;
                touchX = 0;
                touchY = 0;
                scrollLastY = 0;
                scrollStartY = 0;
                scrollStartTime = 0;
                scrollLastTime = 0;
                scrollTotalTime = 0;
                scrollDirection = 'none';
                scrollNum = 0;
                scrollTotalChange = 0;
                validDirection = 'none';
                clickTime = 0;
                clickX = 0;
                clickY = 0;
                diffclickTimeAndTouchEndTime = 0;
                cardWidth = 0;
                cardHeight = 0;
                cardSelector = selector;
                addListener();
                return {
                    addCkOnUrl: addCkOnUrl,
                    clearCount: clearCount,
                    addAdsCk: addAdsCk
                };
            }


            /**
             * 监听事件
             */
            function addListener() {
                bd.addEventListener('touchstart', onTouchStart, true);
                bd.addEventListener('touchend', onTouchEnd, true);
                bd.addEventListener('touchmove', onTouchMove, true);
                bd.addEventListener('click', onClickEvent, true);
                window.addEventListener('scroll', onScrollEvent, true);
                if (window.B && window.B.one) {
                    window.B.one('destroy', function () {
                        removeListener();
                    });
                }
            }

            /**
             * 移除事件
             */
            function removeListener() {
                bd.removeEventListener('touchstart', onTouchStart, true);
                bd.removeEventListener('touchend', onTouchEnd, true);
                bd.removeEventListener('touchmove', onTouchMove, true);
                bd.removeEventListener('click', onClickEvent, true);
                window.removeEventListener('scroll', onScrollEvent, true);
            }

            /**
             * touchStart 事件处理
             * @param  {event} event touchStart 事件处理
             */
            function onTouchStart(event) {
                var touch = event.touches.item(0);
                touchX = parseInt(touch.pageX, 10);
                touchY = parseInt(touch.pageY, 10);
                countScrollOnTouchStart();
                touchStartTime = getEventTime(event);
                setCardWidthAndHeight(event);
            }

            function onTouchEnd(event) {
                touchEndTime = getEventTime(event);
                if (touchEndTime > touchStartTime) {
                    pressTime = Math.round(touchEndTime - touchStartTime);
                } else {
                    pressTime = 0;
                }
                setCardWidthAndHeight(event);
            }

            /**
             * 通过touchMove 来模拟触发 scroll 事件
             * @param  {Object} event 事件
             */
            function onTouchMove(event) {
                onScrollEvent(event);
            }

            /**
             * 滚动事件处理
             * @param  {event} event scroll 事件
             */
            function onScrollEvent(event) {
                if (!isStartScroll) {
                    isStartScroll = true;
                    scrollStartY = window.scrollY;
                }

                var nowScrollY = window.scrollY;
                var scrollValue = Math.abs(nowScrollY - scrollLastY);
                var nowDirection = getScrollDirection(scrollLastY, nowScrollY) || scrollDirection;
                var eventTime = getEventTime(event);
                if (isValidScroll(scrollValue, nowDirection)) {
                    if (eventTime > scrollLastTime) {
                        scrollLastTime = eventTime;
                    }
                    if (validDirection === 'none') {
                        validDirection = scrollDirection;
                        scrollStartTime = eventTime;
                    }
                    if (validDirection !== scrollDirection) {
                        scrollCount();
                        scrollStartTime = eventTime;
                        validDirection = scrollDirection;
                    }
                }

                scrollLastY = nowScrollY;
            }

            /**
             * click 事件处理
             * @param  {event} event click
             */
            function onClickEvent(event) {
                clickTime = getEventTime(event);
                clickX = event.pageX;
                clickY = event.pageY;
                setCardWidthAndHeight(event);
            }

            /**
             * 设置卡片宽度和高度
             * @param {Event} event 事件
             */
            function setCardWidthAndHeight(event) {
                var cardDom = findParentBySelector(event.target, cardSelector);
                if (cardDom) {
                    cardWidth = cardDom.offsetWidth;
                    cardHeight = cardDom.offsetHeight;
                }
            }

            /**
             * 在滚动开始时，计数
             */
            function countScrollOnTouchStart() {
                if (isStartScroll && validDirection !== 'none') {
                    scrollCount();
                    scrollTotalChange = 0;
                    isStartScroll = false;
                    scrollDirection = 'none';
                }
            }

            /**
             * 是否是有小滚动
             * @param  {number}  scrollValue  滚动距离
             * @param  {string}  nowDirection 滚动方向
             * @return {boolean}              是否是有效滚动
             */
            function isValidScroll(scrollValue, nowDirection) {
                if (scrollDirection === 'none') {
                    scrollDirection = nowDirection;
                }

                if (nowDirection !== scrollDirection) {
                    scrollDirection = nowDirection;
                    scrollTotalChange = 0;
                }
                else {
                    scrollTotalChange += scrollValue;
                }
                return scrollTotalChange > scrollBoundary;
            }

            /**
             * 获取滚动方向
             * @param  {number} startY 开始滚动Y坐标
             * @param  {number} nowY   当前坐标
             * @return {string}        滚动方向 up 上  down 下
             */
            function getScrollDirection(startY, nowY) {
                if (nowY > startY) {
                    return 'up';
                }
                else {
                    if (nowY < startY) {
                        return 'down';
                    }
                    else {
                        return false;
                    }
                }
            }

            /**
             * 滚动次数计数
             */
            function scrollCount() {
                scrollNum++;
                scrollTotalTime += Math.round(scrollLastTime - scrollStartTime);
                validDirection = 'none';
            }

            /**
             * 获取事件时间
             * @param  {event} event 触发事件
             * @return {number}       时间戳
             */
            function getEventTime(event) {
                if (event.timeStamp !== 0) {
                    return event.timeStamp;
                }
                else {
                    var date = new Date();
                    return date.getTime();
                }
            }

            /**
             * a数组里是否有包含和b相等的元素
             * @param  {Array} a 数组a
             * @param  {Object} b 查找b
             * @return {boolen}   是否包含
             */
            function collectionHas(a, b) {
                for (var i = 0, len = a.length; i < len; i++) {
                    if (a[i] === b) {
                        return true;
                    }
                }
                return false;
            }

            /**
             * 寻找包含某选择器的父节点
             * @param  {element} elm      选择父节点的元素
             * @param  {element} selector 选择器
             * @return {element}          符合选择器的父节点
             */
            function findParentBySelector(elm, selector) {
                var all = document.querySelectorAll(selector);
                var cur = elm.parentNode;
                while (cur && !collectionHas(all, cur)) {
                    cur = cur.parentNode;
                }
                return cur;
            }

            /**
             * 添加ck到url后面
             * @param {string}  url        被添加ck的url
             * @param {number}  imTimeSign 检索时间戳
             * @param {number} isInit     是否是初始化
             * @return {string} 添加好ck的url
             */
            function addCkOnUrl(url, imTimeSign, isInit) {
                var ckValue = getCkValue(url, imTimeSign, isInit);
                var ckReg = /&ck=[\w.]*/;
                if (ckValue === false) {
                    return url;
                }
                if (url.indexOf('&ck=') === -1) {
                    url += '&ck=' + ckValue;
                }
                else {
                    url = url.replace(ckReg, '&ck=' + ckValue);
                }
                return url;
            }

            /**
             * 清空滚动计数
             */
            function clearCount() {
                scrollNum = 0;
                scrollTotalTime = 0;
            }

            /**
             * 给广告区域添加ck
             * @param {Object} doms         dom数组
             * @param {number} imTimeSign   检索时间戳
             */
            function addAdsCk(doms, imTimeSign) {
                var aDom;
                for (var i = doms.length - 1; i >= 0; i--) {
                    aDom = doms[i].querySelectorAll('a');
                    for (var j = aDom.length - 1; j >= 0; j--) {
                        var aDomCurrent = aDom[j];

                        if ( (aDomCurrent.tagName === 'A'
                                && aDomCurrent.href !== ''
                                && aDomCurrent.href.indexOf('baidu') !== -1
                                ) ||
                                (
                                aDomCurrent.tagName === 'A'
                                && aDomCurrent.dataset.rcv !== ''
                                && aDomCurrent.dataset.rcv.indexOf('baidu') !== -1
                                )
                        ) {
                            /* 添加初始化ck */
                            addCkToADom(aDomCurrent, imTimeSign, 1);
                            aDomCurrent.addEventListener('touchend', function (event) {
                                clickTime = 0;
                                clickX = 0;
                                clickY = 0;
                                addCkToADom(this, imTimeSign);
                            }, true);

                            aDomCurrent.addEventListener('click', function (event) {
                                addCkToADom(this, imTimeSign,'click');
                                clearCount();
                            }, true);
                        }

                    }
                }
            }

            /**
             * 给 A标签添加 ck
             * @param {Object}  aDom       a标签的dom
             * @param {number}  imTimeSign 检索时间戳
             * @param {boolean} isInit    是否是初始化
             */
            function addCkToADom(aDom, imTimeSign, isInit) {

                if(aDom.dataset.cal != undefined){
//                aDom.dataset.rcv=  addCkOnUrl(aDom.dataset.rcv, imTimeSign, isInit);
                    var clickUrl=  addCkOnUrl(aDom.dataset.rcv, imTimeSign, isInit);
                    aDom.dataset.rcv = clickUrl;
                    //phone_link 特殊处理，不走302跳转并调起电话
                    if(isInit == 'click'){
                        var image = document.createElement('img');
                        image.src = clickUrl;
                        window.location.href = aDom.dataset.cal;
                        aDom.href = "javascript:;";
                    }
                }else{
                    aDom.href = addCkOnUrl(aDom.href, imTimeSign, isInit);
                }
            }

            /**
             * 获取ck值
             * @param  {string}  url        计费url
             * @param  {number}  imTimeSign 检索时间戳
             * @param  {boolean} isInit     是否是初始化
             * @return {string}             ck值 x.x.x.x.x.x
             */
            function getCkValue(url, imTimeSign, isInit) {
                if (typeof url !== 'string') {
                    return false;
                }

                if (url.indexOf('baidu.php?url=') === -1 && url.indexOf('link?url=') === -1) {
                    return false;
                }

                if (isInit === 1) {
                    return '0.0.0.0.0.0.0.0.0.0.0';
                }

                var checkCode;
                checkCode = getCheckCode(url, imTimeSign, pressTime, touchX);

                if (checkCode === false) {
                    return false;
                }
                diffclickTimeAndTouchEndTime = 0;
                if (clickTime > 0 && clickTime > touchEndTime) {
                    diffclickTimeAndTouchEndTime = Math.round(clickTime - touchEndTime);
                }
                var ckValue = [
                    checkCode,
                    pressTime,
                    touchX,
                    touchY,
                    cardWidth,
                    cardHeight,
                    scrollNum,
                    scrollTotalTime,
                    diffclickTimeAndTouchEndTime,
                    clickX,
                    clickY
                ].join('.');
                return ckValue;

            }

            /**
             * 获取校验码
             * @param  {string} href       计费url
             * @param  {number} imTimeSign 检索时间戳
             * @param  {number} pressTime  touchStart和touchEnd时间差
             * @param  {number} touchX     touchX的坐标
             * @return {number}            检验码
             */
            function getCheckCode(href, imTimeSign, pressTime, touchX) {
                var urlSearch;
                var urlReg = /\?url\=([^\.]+)\./;
                var urlMix = /link\?url\=([^\&]+)/;
                var checkCode = 0;
                urlSearch = urlMix.exec(href) || urlReg.exec(href);
                if (urlSearch) {
                    var num = (((pressTime * imTimeSign) % 99) + 9);
                    var iDomainLen = urlSearch[1].length;
                    if (urlMix.exec(href)) {
                        iDomainLen = urlSearch[1].length < 20 ? urlSearch[1].length : 20;
                    }
                    for (var x = 0; x < num; ++x) {
                        checkCode += urlSearch[1].charCodeAt((touchX * x) % iDomainLen);
                    }
                    return checkCode;
                }
                return false;
            }

            return {
                getInstance: function (selector) {
                    if (!uniqueInstance) {
                        uniqueInstance = constructor(selector);
                    }
                    return uniqueInstance;
                }

            };
        };
        </script>
<script type="text/javascript">
$midpage_content.listRender$
$midpage_mob_common.Utility$
$midpage_mob_common.MonitorObject$
</script>
<script type="text/javascript">
ThisPage.run();

//点击log
$('body').on('click','.tab-interest-content .interest-src-net',function(e){
    var pageNum = Math.ceil($(this).offset().top/innerHeight);
    var sendlogUrl = "https://eclick.baidu.com/m.js?interest_click=true&interest_query="+$(this).data('num')+"&interest_word="+$(this).data('word')+"&pagenum="+pageNum+"&mscf=$mscf$&time="+Date.now();
    var sendLogImg = document.createElement('img');
    sendLogImg.src = sendlogUrl;
})
//函数截流
function throttle(fn,delay){
    var _self = fn,timer,firstTime=true;
    return function(){
        var args =arguments,
            _me  = this;
        if(firstTime){
            _self.apply(_me,args);
            return firstTime = false;
        }
        if(timer){
            return false;
        }
        timer = setTimeout(function(){
            clearTimeout(timer);
            timer = null;
            _self.apply(_me,args);
        },delay||500);//默认500毫秒延迟
    }
}
//曝光log
$(window).on('scroll',throttle(function(){
    $('.tab-interest-content').each(function(){
        if($(this).data('sendlog') == false && $(this).offset().top > $(window).scrollTop()){
            $(this).data('sendlog','true');
            var interest_log = "https://eclick.baidu.com/m.js?interest_exposure=true&interest_top="+Math.ceil($(this).offset().top)+"&mscf=$mscf$&time="+Date.now();
            var sendLogImg = document.createElement('img');
            sendLogImg.src = interest_log;
        }
    });
}))

</script>
</body>
